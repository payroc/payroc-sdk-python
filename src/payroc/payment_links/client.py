# This file was auto-generated by Fern from our API Definition.

from __future__ import annotations

import datetime as dt
import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.custom_pagination import AsyncPayrocPager, SyncPayrocPager
from ..core.request_options import RequestOptions
from ..types.patch_request import PatchRequest
from ..types.payment_link_paginated_list import PaymentLinkPaginatedList
from ..types.payment_link_paginated_list_data_item import PaymentLinkPaginatedListDataItem
from .raw_client import AsyncRawPaymentLinksClient, RawPaymentLinksClient
from .types.create_payment_links_request_body import CreatePaymentLinksRequestBody
from .types.create_payment_links_response import CreatePaymentLinksResponse
from .types.deactivate_payment_links_response import DeactivatePaymentLinksResponse
from .types.list_payment_links_request_charge_type import ListPaymentLinksRequestChargeType
from .types.list_payment_links_request_link_type import ListPaymentLinksRequestLinkType
from .types.list_payment_links_request_status import ListPaymentLinksRequestStatus
from .types.partially_update_payment_links_response import PartiallyUpdatePaymentLinksResponse
from .types.retrieve_payment_links_response import RetrievePaymentLinksResponse

if typing.TYPE_CHECKING:
    from .sharing_events.client import AsyncSharingEventsClient, SharingEventsClient
# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class PaymentLinksClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawPaymentLinksClient(client_wrapper=client_wrapper)
        self._client_wrapper = client_wrapper
        self._sharing_events: typing.Optional[SharingEventsClient] = None

    @property
    def with_raw_response(self) -> RawPaymentLinksClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawPaymentLinksClient
        """
        return self._raw_client

    def list(
        self,
        processing_terminal_id: str,
        *,
        merchant_reference: typing.Optional[str] = None,
        link_type: typing.Optional[ListPaymentLinksRequestLinkType] = None,
        charge_type: typing.Optional[ListPaymentLinksRequestChargeType] = None,
        status: typing.Optional[ListPaymentLinksRequestStatus] = None,
        recipient_name: typing.Optional[str] = None,
        recipient_email: typing.Optional[str] = None,
        created_on: typing.Optional[dt.date] = None,
        expires_on: typing.Optional[dt.date] = None,
        before: typing.Optional[str] = None,
        after: typing.Optional[str] = None,
        limit: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> SyncPayrocPager[PaymentLinkPaginatedListDataItem, PaymentLinkPaginatedList]:
        """
        Use this method to return a [paginated](https://docs.payroc.com/api/pagination) list of payment links linked to a processing terminal.

        **Note:** If you want to view the details of a specific payment link and you have its paymentLinkId, use our [Retrieve Payment Link](https://docs.payroc.com/api/schema/payment-links/retrieve) method.

        Use query parameters to filter the list of results that we return, for example, to search for only active links or multi-use links.

        Our gateway returns the following information about each payment link in the list:
        - **type** - Indicates whether the link can be used only once or if it can be used multiple times.
        - **authType** - Indicates whether the transaction is a sale or a pre-authorization.
        - **paymentMethods** - Indicates the payment method that the merchant accepts.
        - **charge** - Indicates whether the merchant or the customer enters the amount for the transaction.
        - **status** - Indicates if the payment link is active.

        For each payment link, we also return a paymentLinkId, which you can use for follow-on actions.

        Parameters
        ----------
        processing_terminal_id : str
            Unique identifier that we assigned to the terminal.

        merchant_reference : typing.Optional[str]
            Filter results by the unique identifier that the merchant assigned to the payment link.

        link_type : typing.Optional[ListPaymentLinksRequestLinkType]
            Filter results by the type of link. Send a value of <code>singleUse</code> or <code>multiUse</code>.

        charge_type : typing.Optional[ListPaymentLinksRequestChargeType]
            Filter results by the user that entered the amount. Send one of the following values:
            - <code>prompt</code> - Customer entered the amount.
            - <code>preset</code> - Merchant entered the amount.

        status : typing.Optional[ListPaymentLinksRequestStatus]
            Filter results by the status of the payment link. Send a value of <code>active</code>, <code>completed</code>,<code>deactived</code>, or <code>expired</code>.

        recipient_name : typing.Optional[str]
            Filter results by the customer's name.

        recipient_email : typing.Optional[str]
            Filter results by the customer's email address.

        created_on : typing.Optional[dt.date]
            Filter results by the link's created date. Send a value in **YYYY-MM-DD** format.

        expires_on : typing.Optional[dt.date]
            Filter results by the link's expiry date. Send a value in **YYYY-MM-DD** format.

        before : typing.Optional[str]
            Return the previous page of results before the value that you specify.

            You can’t send the before parameter in the same request as the after parameter.

        after : typing.Optional[str]
            Return the next page of results after the value that you specify.

            You can’t send the after parameter in the same request as the before parameter.

        limit : typing.Optional[int]
            Limit the maximum number of results that we return for each page.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SyncPayrocPager[PaymentLinkPaginatedListDataItem, PaymentLinkPaginatedList]
            Successful request. Returns a [paginated](https://docs.payroc.com/api/pagination) list of payment links.

        Examples
        --------
        import datetime

        from payroc import Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        response = client.payment_links.list(
            processing_terminal_id="1234001",
            merchant_reference="LinkRef6543",
            link_type="multiUse",
            charge_type="preset",
            status="active",
            recipient_name="Sarah Hazel Hopper",
            recipient_email="sarah.hopper@example.com",
            created_on=datetime.date.fromisoformat(
                "2024-07-02",
            ),
            expires_on=datetime.date.fromisoformat(
                "2024-08-02",
            ),
            before="2571",
            after="8516",
            limit=1,
        )
        for item in response:
            yield item
        # alternatively, you can paginate page-by-page
        for page in response.iter_pages():
            yield page
        """
        return self._raw_client.list(
            processing_terminal_id,
            merchant_reference=merchant_reference,
            link_type=link_type,
            charge_type=charge_type,
            status=status,
            recipient_name=recipient_name,
            recipient_email=recipient_email,
            created_on=created_on,
            expires_on=expires_on,
            before=before,
            after=after,
            limit=limit,
            request_options=request_options,
        )

    def create(
        self,
        processing_terminal_id: str,
        *,
        idempotency_key: str,
        request: CreatePaymentLinksRequestBody,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CreatePaymentLinksResponse:
        """
        Use this method to create a payment link that a customer can use to make a payment for goods or services.

        The request includes the following settings:
        - **type** - Indicates whether the link can be used only once or if it can be used multiple times.
        - **authType** - Indicates whether the transaction is a sale or a pre-authorization.
        - **paymentMethod** - Indicates the payment methods that the merchant accepts.
        - **charge** - Indicates whether the merchant or the customer enters the amount for the transaction.

        If your request is successful, our gateway returns a paymentLinkId, which you can use to perform follow-on actions.

        **Note:** To share the payment link with a customer, use our [Share Payment Link](https://docs.payroc.com/api/schema/payment-links/sharing-events/share) method.

        Parameters
        ----------
        processing_terminal_id : str
            Unique identifier that we assigned to the terminal.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        request : CreatePaymentLinksRequestBody

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CreatePaymentLinksResponse
            Successful request. We created the payment link.

        Examples
        --------
        from payroc import (
            MultiUsePaymentLinkOrder,
            MultiUsePaymentLinkOrderCharge_Prompt,
            Payroc,
        )
        from payroc.payment_links import CreatePaymentLinksRequestBody_MultiUse

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.payment_links.create(
            processing_terminal_id="1234001",
            idempotency_key="8e03978e-40d5-43e8-bc93-6894a57f9324",
            request=CreatePaymentLinksRequestBody_MultiUse(
                merchant_reference="LinkRef6543",
                order=MultiUsePaymentLinkOrder(
                    charge=MultiUsePaymentLinkOrderCharge_Prompt(
                        currency="AED",
                    ),
                ),
                auth_type="sale",
                payment_methods=["card"],
            ),
        )
        """
        _response = self._raw_client.create(
            processing_terminal_id, idempotency_key=idempotency_key, request=request, request_options=request_options
        )
        return _response.data

    def retrieve(
        self, payment_link_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> RetrievePaymentLinksResponse:
        """
        Use this method to retrieve information about a payment link.

        To retrieve a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the [Create Payment Link](https://docs.payroc.com/api/schema/payment-links/create) method.

        **Note:** If you don't have the paymentLinkId, use our [List Payment Links](https://docs.payroc.com/api/schema/payment-links/list) method to search for the payment link.

        Our gateway returns the following information about the payment link:
        - **type** - Indicates whether the link can be used only once or if it can be used multiple times.
        - **authType** - Indicates whether the transaction is a sale or a pre-authorization.
        - **paymentMethods** - Indicates the payment method that the merchant accepts.
        - **charge** - Indicates whether the merchant or the customer enters the amount for the transaction.
        - **status** - Indicates if the payment link is active.

        Parameters
        ----------
        payment_link_id : str
            Unique identifier that we assigned to the payment link.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RetrievePaymentLinksResponse
            Successful request. Returns the payment link.

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.payment_links.retrieve(
            payment_link_id="JZURRJBUPS",
        )
        """
        _response = self._raw_client.retrieve(payment_link_id, request_options=request_options)
        return _response.data

    def partially_update(
        self,
        payment_link_id: str,
        *,
        idempotency_key: str,
        request: PatchRequest,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> PartiallyUpdatePaymentLinksResponse:
        """
        Use this method to partially update a payment link. Structure your request to follow the [RFC 6902](https://datatracker.ietf.org/doc/html/rfc6902) standard.

        To update a payment link, you need its paymentLinkId, which we sent you in the response of the [Create Payment Link](https://docs.payroc.com/api/schema/payment-links/create) method.

        **Note:** If you don't have the paymentLinkId, use our [List Payment Links](https://docs.payroc.com/api/schema/payment-links/list) method to search for the payment link.

        You can update the following properties of a multi-use link:
        - **expiresOn parameter** - Expiration date of the link.
        - **customLabels object** - Label for the payment button.
        - **credentialOnFile object** - Settings for saving the customer's payment details.

        You can update the following properties of a single-use link:
        - **expiresOn parameter** - Expiration date of the link.
        - **authType parameter** - Transaction type of the payment link.
        - **amount parameter** - Total amount of the transaction.
        - **currency parameter** - Currency of the transaction.
        - **description parameter** - Brief description of the transaction.
        - **customLabels object** - Label for the payment button.
        - **credentialOnFile object** - Settings for saving the customer's payment details.

        **Note:** When a merchant updates a single-use link, we update the payment URL and HTML code in the assets object. The customer can't use the original link to make a payment.

        Parameters
        ----------
        payment_link_id : str
            Unique identifier that we assigned to the payment link.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        request : PatchRequest

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        PartiallyUpdatePaymentLinksResponse
            Successful request. We updated the payment link.

        Examples
        --------
        from payroc import PatchDocument_Remove, Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.payment_links.partially_update(
            payment_link_id="JZURRJBUPS",
            idempotency_key="8e03978e-40d5-43e8-bc93-6894a57f9324",
            request=[
                PatchDocument_Remove(
                    path="path",
                )
            ],
        )
        """
        _response = self._raw_client.partially_update(
            payment_link_id, idempotency_key=idempotency_key, request=request, request_options=request_options
        )
        return _response.data

    def deactivate(
        self, payment_link_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> DeactivatePaymentLinksResponse:
        """
        Use this method to deactivate a payment link.

        To deactivate a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the [Create Payment Link](https://docs.payroc.com/api/schema/payment-links/create) method.

        **Note:** If you don't have the paymentLinkId, use our [List Payment Links](https://docs.payroc.com/api/schema/payment-links/list) method to search for the payment link.

        If your request is successful, our gateway deactivates the payment link. The customer can't use the link to make a payment, and you can't reactivate the payment link.

        Parameters
        ----------
        payment_link_id : str
            Unique identifier that we assigned to the payment link.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeactivatePaymentLinksResponse
            Successful request. We deactivated the payment link.

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.payment_links.deactivate(
            payment_link_id="JZURRJBUPS",
        )
        """
        _response = self._raw_client.deactivate(payment_link_id, request_options=request_options)
        return _response.data

    @property
    def sharing_events(self):
        if self._sharing_events is None:
            from .sharing_events.client import SharingEventsClient  # noqa: E402

            self._sharing_events = SharingEventsClient(client_wrapper=self._client_wrapper)
        return self._sharing_events


class AsyncPaymentLinksClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawPaymentLinksClient(client_wrapper=client_wrapper)
        self._client_wrapper = client_wrapper
        self._sharing_events: typing.Optional[AsyncSharingEventsClient] = None

    @property
    def with_raw_response(self) -> AsyncRawPaymentLinksClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawPaymentLinksClient
        """
        return self._raw_client

    async def list(
        self,
        processing_terminal_id: str,
        *,
        merchant_reference: typing.Optional[str] = None,
        link_type: typing.Optional[ListPaymentLinksRequestLinkType] = None,
        charge_type: typing.Optional[ListPaymentLinksRequestChargeType] = None,
        status: typing.Optional[ListPaymentLinksRequestStatus] = None,
        recipient_name: typing.Optional[str] = None,
        recipient_email: typing.Optional[str] = None,
        created_on: typing.Optional[dt.date] = None,
        expires_on: typing.Optional[dt.date] = None,
        before: typing.Optional[str] = None,
        after: typing.Optional[str] = None,
        limit: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AsyncPayrocPager[PaymentLinkPaginatedListDataItem, PaymentLinkPaginatedList]:
        """
        Use this method to return a [paginated](https://docs.payroc.com/api/pagination) list of payment links linked to a processing terminal.

        **Note:** If you want to view the details of a specific payment link and you have its paymentLinkId, use our [Retrieve Payment Link](https://docs.payroc.com/api/schema/payment-links/retrieve) method.

        Use query parameters to filter the list of results that we return, for example, to search for only active links or multi-use links.

        Our gateway returns the following information about each payment link in the list:
        - **type** - Indicates whether the link can be used only once or if it can be used multiple times.
        - **authType** - Indicates whether the transaction is a sale or a pre-authorization.
        - **paymentMethods** - Indicates the payment method that the merchant accepts.
        - **charge** - Indicates whether the merchant or the customer enters the amount for the transaction.
        - **status** - Indicates if the payment link is active.

        For each payment link, we also return a paymentLinkId, which you can use for follow-on actions.

        Parameters
        ----------
        processing_terminal_id : str
            Unique identifier that we assigned to the terminal.

        merchant_reference : typing.Optional[str]
            Filter results by the unique identifier that the merchant assigned to the payment link.

        link_type : typing.Optional[ListPaymentLinksRequestLinkType]
            Filter results by the type of link. Send a value of <code>singleUse</code> or <code>multiUse</code>.

        charge_type : typing.Optional[ListPaymentLinksRequestChargeType]
            Filter results by the user that entered the amount. Send one of the following values:
            - <code>prompt</code> - Customer entered the amount.
            - <code>preset</code> - Merchant entered the amount.

        status : typing.Optional[ListPaymentLinksRequestStatus]
            Filter results by the status of the payment link. Send a value of <code>active</code>, <code>completed</code>,<code>deactived</code>, or <code>expired</code>.

        recipient_name : typing.Optional[str]
            Filter results by the customer's name.

        recipient_email : typing.Optional[str]
            Filter results by the customer's email address.

        created_on : typing.Optional[dt.date]
            Filter results by the link's created date. Send a value in **YYYY-MM-DD** format.

        expires_on : typing.Optional[dt.date]
            Filter results by the link's expiry date. Send a value in **YYYY-MM-DD** format.

        before : typing.Optional[str]
            Return the previous page of results before the value that you specify.

            You can’t send the before parameter in the same request as the after parameter.

        after : typing.Optional[str]
            Return the next page of results after the value that you specify.

            You can’t send the after parameter in the same request as the before parameter.

        limit : typing.Optional[int]
            Limit the maximum number of results that we return for each page.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncPayrocPager[PaymentLinkPaginatedListDataItem, PaymentLinkPaginatedList]
            Successful request. Returns a [paginated](https://docs.payroc.com/api/pagination) list of payment links.

        Examples
        --------
        import asyncio
        import datetime

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            response = await client.payment_links.list(
                processing_terminal_id="1234001",
                merchant_reference="LinkRef6543",
                link_type="multiUse",
                charge_type="preset",
                status="active",
                recipient_name="Sarah Hazel Hopper",
                recipient_email="sarah.hopper@example.com",
                created_on=datetime.date.fromisoformat(
                    "2024-07-02",
                ),
                expires_on=datetime.date.fromisoformat(
                    "2024-08-02",
                ),
                before="2571",
                after="8516",
                limit=1,
            )
            async for item in response:
                yield item

            # alternatively, you can paginate page-by-page
            async for page in response.iter_pages():
                yield page


        asyncio.run(main())
        """
        return await self._raw_client.list(
            processing_terminal_id,
            merchant_reference=merchant_reference,
            link_type=link_type,
            charge_type=charge_type,
            status=status,
            recipient_name=recipient_name,
            recipient_email=recipient_email,
            created_on=created_on,
            expires_on=expires_on,
            before=before,
            after=after,
            limit=limit,
            request_options=request_options,
        )

    async def create(
        self,
        processing_terminal_id: str,
        *,
        idempotency_key: str,
        request: CreatePaymentLinksRequestBody,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CreatePaymentLinksResponse:
        """
        Use this method to create a payment link that a customer can use to make a payment for goods or services.

        The request includes the following settings:
        - **type** - Indicates whether the link can be used only once or if it can be used multiple times.
        - **authType** - Indicates whether the transaction is a sale or a pre-authorization.
        - **paymentMethod** - Indicates the payment methods that the merchant accepts.
        - **charge** - Indicates whether the merchant or the customer enters the amount for the transaction.

        If your request is successful, our gateway returns a paymentLinkId, which you can use to perform follow-on actions.

        **Note:** To share the payment link with a customer, use our [Share Payment Link](https://docs.payroc.com/api/schema/payment-links/sharing-events/share) method.

        Parameters
        ----------
        processing_terminal_id : str
            Unique identifier that we assigned to the terminal.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        request : CreatePaymentLinksRequestBody

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CreatePaymentLinksResponse
            Successful request. We created the payment link.

        Examples
        --------
        import asyncio

        from payroc import (
            AsyncPayroc,
            MultiUsePaymentLinkOrder,
            MultiUsePaymentLinkOrderCharge_Prompt,
        )
        from payroc.payment_links import CreatePaymentLinksRequestBody_MultiUse

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.payment_links.create(
                processing_terminal_id="1234001",
                idempotency_key="8e03978e-40d5-43e8-bc93-6894a57f9324",
                request=CreatePaymentLinksRequestBody_MultiUse(
                    merchant_reference="LinkRef6543",
                    order=MultiUsePaymentLinkOrder(
                        charge=MultiUsePaymentLinkOrderCharge_Prompt(
                            currency="AED",
                        ),
                    ),
                    auth_type="sale",
                    payment_methods=["card"],
                ),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.create(
            processing_terminal_id, idempotency_key=idempotency_key, request=request, request_options=request_options
        )
        return _response.data

    async def retrieve(
        self, payment_link_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> RetrievePaymentLinksResponse:
        """
        Use this method to retrieve information about a payment link.

        To retrieve a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the [Create Payment Link](https://docs.payroc.com/api/schema/payment-links/create) method.

        **Note:** If you don't have the paymentLinkId, use our [List Payment Links](https://docs.payroc.com/api/schema/payment-links/list) method to search for the payment link.

        Our gateway returns the following information about the payment link:
        - **type** - Indicates whether the link can be used only once or if it can be used multiple times.
        - **authType** - Indicates whether the transaction is a sale or a pre-authorization.
        - **paymentMethods** - Indicates the payment method that the merchant accepts.
        - **charge** - Indicates whether the merchant or the customer enters the amount for the transaction.
        - **status** - Indicates if the payment link is active.

        Parameters
        ----------
        payment_link_id : str
            Unique identifier that we assigned to the payment link.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RetrievePaymentLinksResponse
            Successful request. Returns the payment link.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.payment_links.retrieve(
                payment_link_id="JZURRJBUPS",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.retrieve(payment_link_id, request_options=request_options)
        return _response.data

    async def partially_update(
        self,
        payment_link_id: str,
        *,
        idempotency_key: str,
        request: PatchRequest,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> PartiallyUpdatePaymentLinksResponse:
        """
        Use this method to partially update a payment link. Structure your request to follow the [RFC 6902](https://datatracker.ietf.org/doc/html/rfc6902) standard.

        To update a payment link, you need its paymentLinkId, which we sent you in the response of the [Create Payment Link](https://docs.payroc.com/api/schema/payment-links/create) method.

        **Note:** If you don't have the paymentLinkId, use our [List Payment Links](https://docs.payroc.com/api/schema/payment-links/list) method to search for the payment link.

        You can update the following properties of a multi-use link:
        - **expiresOn parameter** - Expiration date of the link.
        - **customLabels object** - Label for the payment button.
        - **credentialOnFile object** - Settings for saving the customer's payment details.

        You can update the following properties of a single-use link:
        - **expiresOn parameter** - Expiration date of the link.
        - **authType parameter** - Transaction type of the payment link.
        - **amount parameter** - Total amount of the transaction.
        - **currency parameter** - Currency of the transaction.
        - **description parameter** - Brief description of the transaction.
        - **customLabels object** - Label for the payment button.
        - **credentialOnFile object** - Settings for saving the customer's payment details.

        **Note:** When a merchant updates a single-use link, we update the payment URL and HTML code in the assets object. The customer can't use the original link to make a payment.

        Parameters
        ----------
        payment_link_id : str
            Unique identifier that we assigned to the payment link.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        request : PatchRequest

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        PartiallyUpdatePaymentLinksResponse
            Successful request. We updated the payment link.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc, PatchDocument_Remove

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.payment_links.partially_update(
                payment_link_id="JZURRJBUPS",
                idempotency_key="8e03978e-40d5-43e8-bc93-6894a57f9324",
                request=[
                    PatchDocument_Remove(
                        path="path",
                    )
                ],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.partially_update(
            payment_link_id, idempotency_key=idempotency_key, request=request, request_options=request_options
        )
        return _response.data

    async def deactivate(
        self, payment_link_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> DeactivatePaymentLinksResponse:
        """
        Use this method to deactivate a payment link.

        To deactivate a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the [Create Payment Link](https://docs.payroc.com/api/schema/payment-links/create) method.

        **Note:** If you don't have the paymentLinkId, use our [List Payment Links](https://docs.payroc.com/api/schema/payment-links/list) method to search for the payment link.

        If your request is successful, our gateway deactivates the payment link. The customer can't use the link to make a payment, and you can't reactivate the payment link.

        Parameters
        ----------
        payment_link_id : str
            Unique identifier that we assigned to the payment link.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeactivatePaymentLinksResponse
            Successful request. We deactivated the payment link.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.payment_links.deactivate(
                payment_link_id="JZURRJBUPS",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.deactivate(payment_link_id, request_options=request_options)
        return _response.data

    @property
    def sharing_events(self):
        if self._sharing_events is None:
            from .sharing_events.client import AsyncSharingEventsClient  # noqa: E402

            self._sharing_events = AsyncSharingEventsClient(client_wrapper=self._client_wrapper)
        return self._sharing_events
