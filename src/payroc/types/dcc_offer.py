# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
import typing_extensions
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from ..core.serialization import FieldMetadata
from .currency import Currency


class DccOffer(UniversalBaseModel):
    """
    Object that contains information about the dynamic currency conversion (DCC) offer.

    For more information about DCC, go to [Dynamic Currency Conversion](https://docs.payroc.com/knowledge/card-payments/dynamic-currency-conversion).
    """

    accepted: typing.Optional[bool] = pydantic.Field(default=None)
    """
    Indicates if the cardholder accepted DCC offer.
    """

    offer_reference: typing_extensions.Annotated[
        typing.Optional[str],
        FieldMetadata(alias="offerReference"),
        pydantic.Field(alias="offerReference", description="Unique identifier of the DCC offer."),
    ] = None
    fx_amount: typing_extensions.Annotated[
        int,
        FieldMetadata(alias="fxAmount"),
        pydantic.Field(
            alias="fxAmount",
            description="Amount in the cardholder’s currency in the currency’s lowest denomination, for example, cents.",
        ),
    ]
    fx_currency: typing_extensions.Annotated[
        Currency,
        FieldMetadata(alias="fxCurrency"),
        pydantic.Field(
            alias="fxCurrency",
            description="Currency of the transaction in the card’s currency. The value for the currency follows the [ISO 4217](https://www.iso.org/iso-4217-currency-codes.html) standard.",
        ),
    ]
    fx_currency_code: typing_extensions.Annotated[
        typing.Optional[str],
        FieldMetadata(alias="fxCurrencyCode"),
        pydantic.Field(
            alias="fxCurrencyCode",
            description="Three-digit currency code for the card. This code follows the [ISO 4217](https://www.iso.org/iso-4217-currency-codes.html) standard.",
        ),
    ] = None
    fx_currency_exponent: typing_extensions.Annotated[
        typing.Optional[int],
        FieldMetadata(alias="fxCurrencyExponent"),
        pydantic.Field(
            alias="fxCurrencyExponent",
            description="Number of decimal places between the smallest currency unit and a whole currency unit. \n\nFor example, for GBP, the smallest currency unit is 1p and it is equal to £0.01. \nIf you use GBP, the value for **fxCurrencyExponent** is 2.",
        ),
    ] = None
    fx_rate: typing_extensions.Annotated[
        float,
        FieldMetadata(alias="fxRate"),
        pydantic.Field(alias="fxRate", description="Foreign exchange rate for the card's currency."),
    ]
    markup: float = pydantic.Field()
    """
    Markup percentage rate that the DCC provider applies to the foreign exchange rate.
    """

    markup_text: typing_extensions.Annotated[
        typing.Optional[str],
        FieldMetadata(alias="markupText"),
        pydantic.Field(alias="markupText", description="Supporting text for the markup rate."),
    ] = None
    provider: typing.Optional[str] = pydantic.Field(default=None)
    """
    Name of the DCC provider.
    """

    source: typing.Optional[str] = pydantic.Field(default=None)
    """
    Source that the DCC provider used to get the foreign exchange rates.
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
