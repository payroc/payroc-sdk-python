# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
import typing_extensions
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from ..core.serialization import FieldMetadata
from .currency import Currency
from .payment_plan_base_frequency import PaymentPlanBaseFrequency
from .payment_plan_base_on_delete import PaymentPlanBaseOnDelete
from .payment_plan_base_on_update import PaymentPlanBaseOnUpdate
from .payment_plan_base_type import PaymentPlanBaseType


class PaymentPlanBase(UniversalBaseModel):
    payment_plan_id: typing_extensions.Annotated[
        str,
        FieldMetadata(alias="paymentPlanId"),
        pydantic.Field(
            alias="paymentPlanId", description="Unique identifier that the merchant assigns to the payment plan."
        ),
    ]
    processing_terminal_id: typing_extensions.Annotated[
        typing.Optional[str],
        FieldMetadata(alias="processingTerminalId"),
        pydantic.Field(
            alias="processingTerminalId",
            description="Unique identifier of the terminal that the payment plan is assigned to.",
        ),
    ] = None
    name: str = pydantic.Field()
    """
    Name of the payment plan.
    """

    description: typing.Optional[str] = pydantic.Field(default=None)
    """
    Description of the payment plan.
    """

    currency: Currency
    length: typing.Optional[int] = pydantic.Field(default=None)
    """
    Number of payments for the payment plan.  
    
    To indicate that the payment plan should run indefinitely, send a value of `0`.
    """

    type: PaymentPlanBaseType = pydantic.Field()
    """
    Indicates how the merchant takes the payment from the customer's account.
    - `manual` - The merchant manually collects payments from the customer.
    - `automatic` - The terminal automatically collects payments from the customer.
    """

    frequency: PaymentPlanBaseFrequency = pydantic.Field()
    """
    Indicates how often the merchant or the terminal collects a payment from the customer.
    """

    on_update: typing_extensions.Annotated[
        PaymentPlanBaseOnUpdate,
        FieldMetadata(alias="onUpdate"),
        pydantic.Field(
            alias="onUpdate",
            description="Indicates whether any changes that the merchant makes to the payment plan apply to existing subscriptions.\n- `update` - Changes apply to existing subscriptions.\n- `continue` - Changes don't apply to existing subscriptions.",
        ),
    ]
    on_delete: typing_extensions.Annotated[
        PaymentPlanBaseOnDelete,
        FieldMetadata(alias="onDelete"),
        pydantic.Field(
            alias="onDelete",
            description="Indicates what happens to existing subscriptions if the merchant deletes the payment plan.\n- `complete` - Stops existing subscriptions.\n- `continue` - Continues existing subscriptions.",
        ),
    ]
    custom_field_names: typing_extensions.Annotated[
        typing.Optional[typing.List[str]],
        FieldMetadata(alias="customFieldNames"),
        pydantic.Field(
            alias="customFieldNames",
            description="Array of custom fields that you can use in subscriptions linked to the payment plan.",
        ),
    ] = None

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
