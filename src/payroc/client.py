# This file was auto-generated by Fern from our API Definition.

from __future__ import annotations

import typing

import httpx
from .core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from .core.inferred_auth_token_provider import AsyncInferredAuthTokenProvider, InferredAuthTokenProvider
from .core.logging import LogConfig, Logger
from .environment import PayrocEnvironment

if typing.TYPE_CHECKING:
    from .apple_pay_sessions.client import ApplePaySessionsClient, AsyncApplePaySessionsClient
    from .attachments.client import AsyncAttachmentsClient, AttachmentsClient
    from .auth.client import AsyncAuthClient, AuthClient
    from .bank_transfer_payments.client import AsyncBankTransferPaymentsClient, BankTransferPaymentsClient
    from .boarding.client import AsyncBoardingClient, BoardingClient
    from .card_payments.client import AsyncCardPaymentsClient, CardPaymentsClient
    from .funding.client import AsyncFundingClient, FundingClient
    from .hosted_fields.client import AsyncHostedFieldsClient, HostedFieldsClient
    from .notifications.client import AsyncNotificationsClient, NotificationsClient
    from .payment_features.client import AsyncPaymentFeaturesClient, PaymentFeaturesClient
    from .payment_links.client import AsyncPaymentLinksClient, PaymentLinksClient
    from .payroc_cloud.client import AsyncPayrocCloudClient, PayrocCloudClient
    from .repeat_payments.client import AsyncRepeatPaymentsClient, RepeatPaymentsClient
    from .reporting.client import AsyncReportingClient, ReportingClient
    from .tokenization.client import AsyncTokenizationClient, TokenizationClient


class Payroc:
    """
    Use this class to access the different functions within the SDK. You can instantiate any number of clients with different configuration that will propagate to these functions.

    Parameters
    ----------
    environment : PayrocEnvironment
        The environment to use for requests from the client. from .environment import PayrocEnvironment



        Defaults to PayrocEnvironment.PRODUCTION



    headers : typing.Optional[typing.Dict[str, str]]
        Additional headers to send with every request.

    api_key : str
        Credential used for inferred authentication.

    timeout : typing.Optional[float]
        The timeout to be used, in seconds, for requests. By default the timeout is 60 seconds, unless a custom httpx client is used, in which case this default is not enforced.

    follow_redirects : typing.Optional[bool]
        Whether the default httpx client follows redirects or not, this is irrelevant if a custom httpx client is passed in.

    httpx_client : typing.Optional[httpx.Client]
        The httpx client to use for making requests, a preconfigured client is used by default, however this is useful should you want to pass in any custom httpx configuration.

    logging : typing.Optional[typing.Union[LogConfig, Logger]]
        Configure logging for the SDK. Accepts a LogConfig dict with 'level' (debug/info/warn/error), 'logger' (custom logger implementation), and 'silent' (boolean, defaults to True) fields. You can also pass a pre-configured Logger instance.

    Examples
    --------
    from payroc import Payroc

    client = Payroc(
        api_key="YOUR_API_KEY",
    )
    """

    def __init__(
        self,
        *,
        environment: PayrocEnvironment = PayrocEnvironment.PRODUCTION,
        headers: typing.Optional[typing.Dict[str, str]] = None,
        api_key: str,
        timeout: typing.Optional[float] = None,
        follow_redirects: typing.Optional[bool] = True,
        httpx_client: typing.Optional[httpx.Client] = None,
        logging: typing.Optional[typing.Union[LogConfig, Logger]] = None,
    ):
        _defaulted_timeout = (
            timeout if timeout is not None else 60 if httpx_client is None else httpx_client.timeout.read
        )
        inferred_auth_token_provider = InferredAuthTokenProvider(
            api_key=api_key,
            client_wrapper=SyncClientWrapper(
                environment=environment,
                headers=headers,
                httpx_client=httpx_client
                if httpx_client is not None
                else httpx.Client(timeout=_defaulted_timeout, follow_redirects=follow_redirects)
                if follow_redirects is not None
                else httpx.Client(timeout=_defaulted_timeout),
                timeout=_defaulted_timeout,
                logging=logging,
            ),
        )
        self._client_wrapper = SyncClientWrapper(
            environment=environment,
            headers=headers,
            httpx_client=httpx_client
            if httpx_client is not None
            else httpx.Client(timeout=_defaulted_timeout, follow_redirects=follow_redirects)
            if follow_redirects is not None
            else httpx.Client(timeout=_defaulted_timeout),
            timeout=_defaulted_timeout,
            logging=logging,
            auth_headers=inferred_auth_token_provider.get_headers,
        )
        self._payment_links: typing.Optional[PaymentLinksClient] = None
        self._hosted_fields: typing.Optional[HostedFieldsClient] = None
        self._apple_pay_sessions: typing.Optional[ApplePaySessionsClient] = None
        self._attachments: typing.Optional[AttachmentsClient] = None
        self._auth: typing.Optional[AuthClient] = None
        self._funding: typing.Optional[FundingClient] = None
        self._bank_transfer_payments: typing.Optional[BankTransferPaymentsClient] = None
        self._boarding: typing.Optional[BoardingClient] = None
        self._card_payments: typing.Optional[CardPaymentsClient] = None
        self._notifications: typing.Optional[NotificationsClient] = None
        self._payment_features: typing.Optional[PaymentFeaturesClient] = None
        self._payroc_cloud: typing.Optional[PayrocCloudClient] = None
        self._repeat_payments: typing.Optional[RepeatPaymentsClient] = None
        self._reporting: typing.Optional[ReportingClient] = None
        self._tokenization: typing.Optional[TokenizationClient] = None

    @property
    def payment_links(self):
        if self._payment_links is None:
            from .payment_links.client import PaymentLinksClient  # noqa: E402

            self._payment_links = PaymentLinksClient(client_wrapper=self._client_wrapper)
        return self._payment_links

    @property
    def hosted_fields(self):
        if self._hosted_fields is None:
            from .hosted_fields.client import HostedFieldsClient  # noqa: E402

            self._hosted_fields = HostedFieldsClient(client_wrapper=self._client_wrapper)
        return self._hosted_fields

    @property
    def apple_pay_sessions(self):
        if self._apple_pay_sessions is None:
            from .apple_pay_sessions.client import ApplePaySessionsClient  # noqa: E402

            self._apple_pay_sessions = ApplePaySessionsClient(client_wrapper=self._client_wrapper)
        return self._apple_pay_sessions

    @property
    def attachments(self):
        if self._attachments is None:
            from .attachments.client import AttachmentsClient  # noqa: E402

            self._attachments = AttachmentsClient(client_wrapper=self._client_wrapper)
        return self._attachments

    @property
    def auth(self):
        if self._auth is None:
            from .auth.client import AuthClient  # noqa: E402

            self._auth = AuthClient(client_wrapper=self._client_wrapper)
        return self._auth

    @property
    def funding(self):
        if self._funding is None:
            from .funding.client import FundingClient  # noqa: E402

            self._funding = FundingClient(client_wrapper=self._client_wrapper)
        return self._funding

    @property
    def bank_transfer_payments(self):
        if self._bank_transfer_payments is None:
            from .bank_transfer_payments.client import BankTransferPaymentsClient  # noqa: E402

            self._bank_transfer_payments = BankTransferPaymentsClient(client_wrapper=self._client_wrapper)
        return self._bank_transfer_payments

    @property
    def boarding(self):
        if self._boarding is None:
            from .boarding.client import BoardingClient  # noqa: E402

            self._boarding = BoardingClient(client_wrapper=self._client_wrapper)
        return self._boarding

    @property
    def card_payments(self):
        if self._card_payments is None:
            from .card_payments.client import CardPaymentsClient  # noqa: E402

            self._card_payments = CardPaymentsClient(client_wrapper=self._client_wrapper)
        return self._card_payments

    @property
    def notifications(self):
        if self._notifications is None:
            from .notifications.client import NotificationsClient  # noqa: E402

            self._notifications = NotificationsClient(client_wrapper=self._client_wrapper)
        return self._notifications

    @property
    def payment_features(self):
        if self._payment_features is None:
            from .payment_features.client import PaymentFeaturesClient  # noqa: E402

            self._payment_features = PaymentFeaturesClient(client_wrapper=self._client_wrapper)
        return self._payment_features

    @property
    def payroc_cloud(self):
        if self._payroc_cloud is None:
            from .payroc_cloud.client import PayrocCloudClient  # noqa: E402

            self._payroc_cloud = PayrocCloudClient(client_wrapper=self._client_wrapper)
        return self._payroc_cloud

    @property
    def repeat_payments(self):
        if self._repeat_payments is None:
            from .repeat_payments.client import RepeatPaymentsClient  # noqa: E402

            self._repeat_payments = RepeatPaymentsClient(client_wrapper=self._client_wrapper)
        return self._repeat_payments

    @property
    def reporting(self):
        if self._reporting is None:
            from .reporting.client import ReportingClient  # noqa: E402

            self._reporting = ReportingClient(client_wrapper=self._client_wrapper)
        return self._reporting

    @property
    def tokenization(self):
        if self._tokenization is None:
            from .tokenization.client import TokenizationClient  # noqa: E402

            self._tokenization = TokenizationClient(client_wrapper=self._client_wrapper)
        return self._tokenization


class AsyncPayroc:
    """
    Use this class to access the different functions within the SDK. You can instantiate any number of clients with different configuration that will propagate to these functions.

    Parameters
    ----------
    environment : PayrocEnvironment
        The environment to use for requests from the client. from .environment import PayrocEnvironment



        Defaults to PayrocEnvironment.PRODUCTION



    headers : typing.Optional[typing.Dict[str, str]]
        Additional headers to send with every request.

    api_key : str
        Credential used for inferred authentication.

    timeout : typing.Optional[float]
        The timeout to be used, in seconds, for requests. By default the timeout is 60 seconds, unless a custom httpx client is used, in which case this default is not enforced.

    follow_redirects : typing.Optional[bool]
        Whether the default httpx client follows redirects or not, this is irrelevant if a custom httpx client is passed in.

    httpx_client : typing.Optional[httpx.AsyncClient]
        The httpx client to use for making requests, a preconfigured client is used by default, however this is useful should you want to pass in any custom httpx configuration.

    logging : typing.Optional[typing.Union[LogConfig, Logger]]
        Configure logging for the SDK. Accepts a LogConfig dict with 'level' (debug/info/warn/error), 'logger' (custom logger implementation), and 'silent' (boolean, defaults to True) fields. You can also pass a pre-configured Logger instance.

    Examples
    --------
    from payroc import AsyncPayroc

    client = AsyncPayroc(
        api_key="YOUR_API_KEY",
    )
    """

    def __init__(
        self,
        *,
        environment: PayrocEnvironment = PayrocEnvironment.PRODUCTION,
        headers: typing.Optional[typing.Dict[str, str]] = None,
        api_key: str,
        timeout: typing.Optional[float] = None,
        follow_redirects: typing.Optional[bool] = True,
        httpx_client: typing.Optional[httpx.AsyncClient] = None,
        logging: typing.Optional[typing.Union[LogConfig, Logger]] = None,
    ):
        _defaulted_timeout = (
            timeout if timeout is not None else 60 if httpx_client is None else httpx_client.timeout.read
        )
        inferred_auth_token_provider = AsyncInferredAuthTokenProvider(
            api_key=api_key,
            client_wrapper=AsyncClientWrapper(
                environment=environment,
                headers=headers,
                httpx_client=httpx_client
                if httpx_client is not None
                else httpx.AsyncClient(timeout=_defaulted_timeout, follow_redirects=follow_redirects)
                if follow_redirects is not None
                else httpx.AsyncClient(timeout=_defaulted_timeout),
                timeout=_defaulted_timeout,
                logging=logging,
            ),
        )
        self._client_wrapper = AsyncClientWrapper(
            environment=environment,
            headers=headers,
            httpx_client=httpx_client
            if httpx_client is not None
            else httpx.AsyncClient(timeout=_defaulted_timeout, follow_redirects=follow_redirects)
            if follow_redirects is not None
            else httpx.AsyncClient(timeout=_defaulted_timeout),
            timeout=_defaulted_timeout,
            logging=logging,
            async_auth_headers=inferred_auth_token_provider.get_headers,
        )
        self._payment_links: typing.Optional[AsyncPaymentLinksClient] = None
        self._hosted_fields: typing.Optional[AsyncHostedFieldsClient] = None
        self._apple_pay_sessions: typing.Optional[AsyncApplePaySessionsClient] = None
        self._attachments: typing.Optional[AsyncAttachmentsClient] = None
        self._auth: typing.Optional[AsyncAuthClient] = None
        self._funding: typing.Optional[AsyncFundingClient] = None
        self._bank_transfer_payments: typing.Optional[AsyncBankTransferPaymentsClient] = None
        self._boarding: typing.Optional[AsyncBoardingClient] = None
        self._card_payments: typing.Optional[AsyncCardPaymentsClient] = None
        self._notifications: typing.Optional[AsyncNotificationsClient] = None
        self._payment_features: typing.Optional[AsyncPaymentFeaturesClient] = None
        self._payroc_cloud: typing.Optional[AsyncPayrocCloudClient] = None
        self._repeat_payments: typing.Optional[AsyncRepeatPaymentsClient] = None
        self._reporting: typing.Optional[AsyncReportingClient] = None
        self._tokenization: typing.Optional[AsyncTokenizationClient] = None

    @property
    def payment_links(self):
        if self._payment_links is None:
            from .payment_links.client import AsyncPaymentLinksClient  # noqa: E402

            self._payment_links = AsyncPaymentLinksClient(client_wrapper=self._client_wrapper)
        return self._payment_links

    @property
    def hosted_fields(self):
        if self._hosted_fields is None:
            from .hosted_fields.client import AsyncHostedFieldsClient  # noqa: E402

            self._hosted_fields = AsyncHostedFieldsClient(client_wrapper=self._client_wrapper)
        return self._hosted_fields

    @property
    def apple_pay_sessions(self):
        if self._apple_pay_sessions is None:
            from .apple_pay_sessions.client import AsyncApplePaySessionsClient  # noqa: E402

            self._apple_pay_sessions = AsyncApplePaySessionsClient(client_wrapper=self._client_wrapper)
        return self._apple_pay_sessions

    @property
    def attachments(self):
        if self._attachments is None:
            from .attachments.client import AsyncAttachmentsClient  # noqa: E402

            self._attachments = AsyncAttachmentsClient(client_wrapper=self._client_wrapper)
        return self._attachments

    @property
    def auth(self):
        if self._auth is None:
            from .auth.client import AsyncAuthClient  # noqa: E402

            self._auth = AsyncAuthClient(client_wrapper=self._client_wrapper)
        return self._auth

    @property
    def funding(self):
        if self._funding is None:
            from .funding.client import AsyncFundingClient  # noqa: E402

            self._funding = AsyncFundingClient(client_wrapper=self._client_wrapper)
        return self._funding

    @property
    def bank_transfer_payments(self):
        if self._bank_transfer_payments is None:
            from .bank_transfer_payments.client import AsyncBankTransferPaymentsClient  # noqa: E402

            self._bank_transfer_payments = AsyncBankTransferPaymentsClient(client_wrapper=self._client_wrapper)
        return self._bank_transfer_payments

    @property
    def boarding(self):
        if self._boarding is None:
            from .boarding.client import AsyncBoardingClient  # noqa: E402

            self._boarding = AsyncBoardingClient(client_wrapper=self._client_wrapper)
        return self._boarding

    @property
    def card_payments(self):
        if self._card_payments is None:
            from .card_payments.client import AsyncCardPaymentsClient  # noqa: E402

            self._card_payments = AsyncCardPaymentsClient(client_wrapper=self._client_wrapper)
        return self._card_payments

    @property
    def notifications(self):
        if self._notifications is None:
            from .notifications.client import AsyncNotificationsClient  # noqa: E402

            self._notifications = AsyncNotificationsClient(client_wrapper=self._client_wrapper)
        return self._notifications

    @property
    def payment_features(self):
        if self._payment_features is None:
            from .payment_features.client import AsyncPaymentFeaturesClient  # noqa: E402

            self._payment_features = AsyncPaymentFeaturesClient(client_wrapper=self._client_wrapper)
        return self._payment_features

    @property
    def payroc_cloud(self):
        if self._payroc_cloud is None:
            from .payroc_cloud.client import AsyncPayrocCloudClient  # noqa: E402

            self._payroc_cloud = AsyncPayrocCloudClient(client_wrapper=self._client_wrapper)
        return self._payroc_cloud

    @property
    def repeat_payments(self):
        if self._repeat_payments is None:
            from .repeat_payments.client import AsyncRepeatPaymentsClient  # noqa: E402

            self._repeat_payments = AsyncRepeatPaymentsClient(client_wrapper=self._client_wrapper)
        return self._repeat_payments

    @property
    def reporting(self):
        if self._reporting is None:
            from .reporting.client import AsyncReportingClient  # noqa: E402

            self._reporting = AsyncReportingClient(client_wrapper=self._client_wrapper)
        return self._reporting

    @property
    def tokenization(self):
        if self._tokenization is None:
            from .tokenization.client import AsyncTokenizationClient  # noqa: E402

            self._tokenization = AsyncTokenizationClient(client_wrapper=self._client_wrapper)
        return self._tokenization
