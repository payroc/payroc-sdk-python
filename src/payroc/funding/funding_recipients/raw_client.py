# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing
from json.decoder import JSONDecodeError

from ...core.api_error import ApiError
from ...core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ...core.custom_pagination import AsyncPayrocPager, SyncPayrocPager
from ...core.http_response import AsyncHttpResponse, HttpResponse
from ...core.jsonable_encoder import jsonable_encoder
from ...core.pydantic_utilities import parse_obj_as
from ...core.request_options import RequestOptions
from ...core.serialization import convert_and_respect_annotation_metadata
from ...errors.bad_request_error import BadRequestError
from ...errors.conflict_error import ConflictError
from ...errors.forbidden_error import ForbiddenError
from ...errors.internal_server_error import InternalServerError
from ...errors.not_acceptable_error import NotAcceptableError
from ...errors.not_found_error import NotFoundError
from ...errors.unauthorized_error import UnauthorizedError
from ...types.address import Address
from ...types.contact_method import ContactMethod
from ...types.five_hundred import FiveHundred
from ...types.four_hundred import FourHundred
from ...types.four_hundred_four import FourHundredFour
from ...types.four_hundred_nine import FourHundredNine
from ...types.four_hundred_one import FourHundredOne
from ...types.four_hundred_six import FourHundredSix
from ...types.funding_account import FundingAccount
from ...types.funding_account_status import FundingAccountStatus
from ...types.funding_account_type import FundingAccountType
from ...types.funding_account_use import FundingAccountUse
from ...types.funding_recipient import FundingRecipient
from ...types.funding_recipient_funding_accounts_item import FundingRecipientFundingAccountsItem
from ...types.funding_recipient_owners_item import FundingRecipientOwnersItem
from ...types.funding_recipient_recipient_type import FundingRecipientRecipientType
from ...types.funding_recipient_status import FundingRecipientStatus
from ...types.identifier import Identifier
from ...types.link import Link
from ...types.owner import Owner
from ...types.owner_relationship import OwnerRelationship
from ...types.paginated_fund_recipients import PaginatedFundRecipients
from ...types.payment_methods import PaymentMethods
from .types.create_funding_recipient_recipient_type import CreateFundingRecipientRecipientType

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class RawFundingRecipientsClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._client_wrapper = client_wrapper

    def list(
        self,
        *,
        before: typing.Optional[str] = None,
        after: typing.Optional[str] = None,
        limit: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> SyncPayrocPager[FundingRecipient, PaginatedFundRecipients]:
        """
        Use this method to return a [paginated](https://docs.payroc.com/api/pagination) list of funding recipients linked to your account.

        Note: If you want to view the details of a specific funding recipient and you have its recipientId, use our [Retrieve Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/retrieve) method.

        Our gateway returns the following information about each funding recipient in the list:
        - Tax ID and Doing Business As (DBA) name.
        - Address and contact details.
        - Funding accounts linked to the funding recipient.

        For each funding recipient, we also return the recipientId, which you can use to perform follow-on actions.

        Parameters
        ----------
        before : typing.Optional[str]
            Return the previous page of results before the value that you specify.

            You can’t send the before parameter in the same request as the after parameter.

        after : typing.Optional[str]
            Return the next page of results after the value that you specify.

            You can’t send the after parameter in the same request as the before parameter.

        limit : typing.Optional[int]
            Limit the maximum number of results that we return for each page.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SyncPayrocPager[FundingRecipient, PaginatedFundRecipients]
            Successful request. Returns a paginated list of all funding recipients.
        """
        _response = self._client_wrapper.httpx_client.request(
            "funding-recipients",
            base_url=self._client_wrapper.get_environment().api,
            method="GET",
            params={
                "before": before,
                "after": after,
                "limit": limit,
            },
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                _parsed_response = typing.cast(
                    PaginatedFundRecipients,
                    parse_obj_as(
                        type_=PaginatedFundRecipients,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return SyncPayrocPager(initial_response=_parsed_response, client_wrapper=self._client_wrapper)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    def create(
        self,
        *,
        idempotency_key: str,
        recipient_type: CreateFundingRecipientRecipientType,
        tax_id: str,
        doing_business_as: str,
        address: Address,
        contact_methods: typing.Sequence[ContactMethod],
        owners: typing.Sequence[Owner],
        funding_accounts: typing.Sequence[FundingAccount],
        charity_id: typing.Optional[str] = OMIT,
        metadata: typing.Optional[typing.Dict[str, str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> HttpResponse[FundingRecipient]:
        """
        Use this method to create a funding recipient.

        A funding recipient is a business or organization that can receive funds but can't run transactions, for example, a charity.

        In the request, include the following information:
        -    Legal information, including its tax ID, Doing Business As (DBA) name, and address.
        -    Contact information, including the email address.
        -    Owners' details, including their contact details.
        -    Funding account details.

        Our gateway returns the recipientId of the funding recipient, which you can use to run follow-on actions.

        Parameters
        ----------
        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        recipient_type : CreateFundingRecipientRecipientType
            Type or legal structure of the funding recipient.

        tax_id : str
            Employer identification number (EIN) or Social Security number (SSN).

        doing_business_as : str
            Trading name of the business or organization.

        address : Address
            Address of the funding recipient.

        contact_methods : typing.Sequence[ContactMethod]
            Array of contactMethod objects that you can use to add contact methods for the funding recipient. You must provide at least an email address.

        owners : typing.Sequence[Owner]
            Array of owner objects. Each object contains information about an individual who owns or manages the funding recipient.

        funding_accounts : typing.Sequence[FundingAccount]
            Array of fundingAccount objects that you can use to add funding accounts to the funding recipient.

        charity_id : typing.Optional[str]
            Government identifier of the charity.

        metadata : typing.Optional[typing.Dict[str, str]]
            [Metadata](https://docs.payroc.com/api/metadata) object you can use to include custom data with your request.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        HttpResponse[FundingRecipient]
            Successful request. We created the funding recipient.
        """
        _response = self._client_wrapper.httpx_client.request(
            "funding-recipients",
            base_url=self._client_wrapper.get_environment().api,
            method="POST",
            json={
                "recipientType": recipient_type,
                "taxId": tax_id,
                "charityId": charity_id,
                "doingBusinessAs": doing_business_as,
                "address": convert_and_respect_annotation_metadata(
                    object_=address, annotation=Address, direction="write"
                ),
                "contactMethods": convert_and_respect_annotation_metadata(
                    object_=contact_methods, annotation=typing.Sequence[ContactMethod], direction="write"
                ),
                "metadata": metadata,
                "owners": convert_and_respect_annotation_metadata(
                    object_=owners, annotation=typing.Sequence[Owner], direction="write"
                ),
                "fundingAccounts": convert_and_respect_annotation_metadata(
                    object_=funding_accounts, annotation=typing.Sequence[FundingAccount], direction="write"
                ),
            },
            headers={
                "content-type": "application/json",
                "Idempotency-Key": str(idempotency_key) if idempotency_key is not None else None,
            },
            request_options=request_options,
            omit=OMIT,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    FundingRecipient,
                    parse_obj_as(
                        type_=FundingRecipient,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return HttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 406:
                raise NotAcceptableError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredSix,
                        parse_obj_as(
                            type_=FourHundredSix,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 409:
                raise ConflictError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredNine,
                        parse_obj_as(
                            type_=FourHundredNine,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    def retrieve(
        self, recipient_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> HttpResponse[FundingRecipient]:
        """
        Use this method to retrieve information about a funding recipient.

        To retrieve a funding recipient, you need its recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note:** If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        Our gateway returns the following information about the funding recipient:

        - Tax ID and Doing Business As (DBA) name.
        - Address and contact details.
        - Funding accounts linked to the funding recipient.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        HttpResponse[FundingRecipient]
            Successful request. Returns the requested funding recipient.
        """
        _response = self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}",
            base_url=self._client_wrapper.get_environment().api,
            method="GET",
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    FundingRecipient,
                    parse_obj_as(
                        type_=FundingRecipient,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return HttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    def update(
        self,
        recipient_id_: int,
        *,
        recipient_type: FundingRecipientRecipientType,
        tax_id: str,
        doing_business_as: str,
        address: Address,
        contact_methods: typing.Sequence[ContactMethod],
        recipient_id: typing.Optional[int] = OMIT,
        status: typing.Optional[FundingRecipientStatus] = OMIT,
        created_date: typing.Optional[dt.datetime] = OMIT,
        last_modified_date: typing.Optional[dt.datetime] = OMIT,
        charity_id: typing.Optional[str] = OMIT,
        metadata: typing.Optional[typing.Dict[str, str]] = OMIT,
        owners: typing.Optional[typing.Sequence[FundingRecipientOwnersItem]] = OMIT,
        funding_accounts: typing.Optional[typing.Sequence[FundingRecipientFundingAccountsItem]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> HttpResponse[None]:
        """
        Use this method to update the details of a funding recipient. If a request contains significant changes, we might need to re-approve the funding recipient.

        To update a funding recipient, you need it's recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note**: If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        You can update the following details of a funding recipient:
        - Doing Business As (DBA) name
        - Tax ID and charity ID
        - Address and contact methods

        Parameters
        ----------
        recipient_id_ : int
            Unique identifier that we assigned to the funding recipient.

        recipient_type : FundingRecipientRecipientType
            Type or legal structure of the funding recipient.

        tax_id : str
            Employer identification number (EIN) or Social Security number (SSN).

        doing_business_as : str
            Legal name of the business or organization.

        address : Address
            Address of the funding recipient.

        contact_methods : typing.Sequence[ContactMethod]
            Array of contactMethod objects for the funding recipient.

        recipient_id : typing.Optional[int]
            Unique identifier that we assigned to the funding recipient.

        status : typing.Optional[FundingRecipientStatus]
            Indicates if we have approved the funding recipient.

        created_date : typing.Optional[dt.datetime]
            Date the funding recipient was created.

        last_modified_date : typing.Optional[dt.datetime]
            Date the funding recipient was last modified.

        charity_id : typing.Optional[str]
            Government identifier of the charity.

        metadata : typing.Optional[typing.Dict[str, str]]
            [Metadata](https://docs.payroc.com/api/metadata) object you can use to include custom data with your request.

        owners : typing.Optional[typing.Sequence[FundingRecipientOwnersItem]]
            Array of owner objects associated with the funding recipient.

        funding_accounts : typing.Optional[typing.Sequence[FundingRecipientFundingAccountsItem]]
            Array of fundingAccount objects associated with the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        HttpResponse[None]
        """
        _response = self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id_)}",
            base_url=self._client_wrapper.get_environment().api,
            method="PUT",
            json={
                "recipientId": recipient_id,
                "status": status,
                "createdDate": created_date,
                "lastModifiedDate": last_modified_date,
                "recipientType": recipient_type,
                "taxId": tax_id,
                "charityId": charity_id,
                "doingBusinessAs": doing_business_as,
                "address": convert_and_respect_annotation_metadata(
                    object_=address, annotation=Address, direction="write"
                ),
                "contactMethods": convert_and_respect_annotation_metadata(
                    object_=contact_methods, annotation=typing.Sequence[ContactMethod], direction="write"
                ),
                "metadata": metadata,
                "owners": convert_and_respect_annotation_metadata(
                    object_=owners, annotation=typing.Sequence[FundingRecipientOwnersItem], direction="write"
                ),
                "fundingAccounts": convert_and_respect_annotation_metadata(
                    object_=funding_accounts,
                    annotation=typing.Sequence[FundingRecipientFundingAccountsItem],
                    direction="write",
                ),
            },
            headers={
                "content-type": "application/json",
            },
            request_options=request_options,
            omit=OMIT,
        )
        try:
            if 200 <= _response.status_code < 300:
                return HttpResponse(response=_response, data=None)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 406:
                raise NotAcceptableError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredSix,
                        parse_obj_as(
                            type_=FourHundredSix,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    def delete(
        self, recipient_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> HttpResponse[None]:
        """
        Use this method to delete a funding recipient, including its funding accounts and owners.

        To delete a funding recipient, you need its recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note**: If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        HttpResponse[None]
        """
        _response = self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}",
            base_url=self._client_wrapper.get_environment().api,
            method="DELETE",
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                return HttpResponse(response=_response, data=None)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    def list_accounts(
        self, recipient_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> HttpResponse[typing.List[FundingAccount]]:
        """
        Use  this method to return a list of funding accounts associated with a funding recipient.

        **Note:** If you want to view the details of a specific funding account and you have its fundingAccountId, use our [Retrieve Funding Account](https://docs.payroc.com/api/schema/funding/funding-accounts/retrieve) method.

        To retrieve the funding accounts associated with a funding recipient, you need the recipientId. If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        Our gateway returns the following information about each funding account:
        -    Name of the account holder.
        -    ACH details for the account.
        -    Status of the account.

        Our gateway also returns the fundingAccountId, which you can use to run follow-on actions.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        HttpResponse[typing.List[FundingAccount]]
            Successful request. Returns a list of all funding accounts associated with the funding recipient.
        """
        _response = self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}/funding-accounts",
            base_url=self._client_wrapper.get_environment().api,
            method="GET",
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    typing.List[FundingAccount],
                    parse_obj_as(
                        type_=typing.List[FundingAccount],  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return HttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    def create_account(
        self,
        recipient_id: int,
        *,
        idempotency_key: str,
        type: FundingAccountType,
        use: FundingAccountUse,
        name_on_account: str,
        payment_methods: PaymentMethods,
        funding_account_id: typing.Optional[int] = OMIT,
        created_date: typing.Optional[dt.datetime] = OMIT,
        last_modified_date: typing.Optional[dt.datetime] = OMIT,
        status: typing.Optional[FundingAccountStatus] = OMIT,
        metadata: typing.Optional[typing.Dict[str, str]] = OMIT,
        links: typing.Optional[typing.Sequence[Link]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> HttpResponse[FundingAccount]:
        """
        Use this method to create a funding account and add it to a funding recipient.

        To add a funding account to a funding recipient, you need the recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note:** If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        In the request, include the following information:
        -    Account type, for example, if the account is a checking or savings account.
        -    Account holder's name.
        -    ACH information, including the routing number and account number of the account.

        Our gateway returns the fundingAccountId, which you can use to run follow-on actions.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        type : FundingAccountType
            Type of funding account.

        use : FundingAccountUse
            Indicates if we send funds or withdraw funds from the account.
            - `credit` - Send funds to the account.
            - `debit` - Withdraw funds from the account.
            - `creditAndDebit` - Send funds and withdraw funds from the account.

            **Note:** If the funding account is associated with a funding recipient, we accept only a value of `credit`.

        name_on_account : str
            Name of the account holder.

        payment_methods : PaymentMethods
            Array of paymentMethod objects.

        funding_account_id : typing.Optional[int]
            Unique identifier that we assigned to the funding account.

        created_date : typing.Optional[dt.datetime]
            Date and time that we received your request to create the funding account in our system.

        last_modified_date : typing.Optional[dt.datetime]
            Date and time that the funding account was last modified.

        status : typing.Optional[FundingAccountStatus]
            Status of the funding account. The value is one of the following:
            - `approved` - We approved the funding account.
            - `rejected` - We rejected the funding account.
            - `pending` - We have not yet approved the funding account.
            - `hold` - Our Risk team have temporarily placed a hold on the funding account.

        metadata : typing.Optional[typing.Dict[str, str]]
            [Metadata](https://docs.payroc.com/api/metadata) object you can use to include custom data with your request.

        links : typing.Optional[typing.Sequence[Link]]
            Array of HATEOAS links.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        HttpResponse[FundingAccount]
            Successful request. We created the funding account and added it to the funding recipient.
        """
        _response = self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}/funding-accounts",
            base_url=self._client_wrapper.get_environment().api,
            method="POST",
            json={
                "fundingAccountId": funding_account_id,
                "createdDate": created_date,
                "lastModifiedDate": last_modified_date,
                "status": status,
                "type": type,
                "use": use,
                "nameOnAccount": name_on_account,
                "paymentMethods": convert_and_respect_annotation_metadata(
                    object_=payment_methods, annotation=PaymentMethods, direction="write"
                ),
                "metadata": metadata,
                "links": convert_and_respect_annotation_metadata(
                    object_=links, annotation=typing.Sequence[Link], direction="write"
                ),
            },
            headers={
                "content-type": "application/json",
                "Idempotency-Key": str(idempotency_key) if idempotency_key is not None else None,
            },
            request_options=request_options,
            omit=OMIT,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    FundingAccount,
                    parse_obj_as(
                        type_=FundingAccount,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return HttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 406:
                raise NotAcceptableError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredSix,
                        parse_obj_as(
                            type_=FourHundredSix,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 409:
                raise ConflictError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredNine,
                        parse_obj_as(
                            type_=FourHundredNine,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    def list_owners(
        self, recipient_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> HttpResponse[typing.List[Owner]]:
        """
        Use this method to return a list of owners of a funding recipient.

        **Note:** If you want to view the details of a specific owner and you have their ownerId, use our [Retrieve Owner](https://docs.payroc.com/api/schema/boarding/owners/retrieve) method.

        To list the owners of a funding recipient, you need its recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method. If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        Our gateway returns the following information about each owner in the list:
        -    Name, date of birth, and address.
        -    Contact details, including their email address.
        -    Relationship to the funding recipient.

        Our gateway also returns the ownerId, which you can use to perform follow-on actions.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        HttpResponse[typing.List[Owner]]
            Successful request. Returns a list of all owners associated with the funding recipient.
        """
        _response = self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}/owners",
            base_url=self._client_wrapper.get_environment().api,
            method="GET",
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    typing.List[Owner],
                    parse_obj_as(
                        type_=typing.List[Owner],  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return HttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    def create_owner(
        self,
        recipient_id: int,
        *,
        idempotency_key: str,
        first_name: str,
        last_name: str,
        date_of_birth: dt.date,
        address: Address,
        identifiers: typing.Sequence[Identifier],
        contact_methods: typing.Sequence[ContactMethod],
        relationship: OwnerRelationship,
        owner_id: typing.Optional[int] = OMIT,
        middle_name: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> HttpResponse[Owner]:
        """
        Use this method to add an additional owner to a funding recipient.

        To add an owner to a funding recipient, you need the recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note:** If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        In the request, include the following information about the owner:

        - Name, date of birth, and address.
        - Contact details, including their email address.
        - Relationship to the funding recipient, including whether they are a control prong.

        In the response, our gateway returns the ownerId, which you can use to run follow-on actions.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        first_name : str
            Owner's first name.

        last_name : str
            Owner's last name.

        date_of_birth : dt.date
            Owner's date of birth. The format of this value is **YYYY-MM-DD**.

        address : Address

        identifiers : typing.Sequence[Identifier]
            Array of IDs.

        contact_methods : typing.Sequence[ContactMethod]
            Array of contactMethod objects.
            **Note:** If you are adding information about an owner, you must provide at least an email address. If you are adding information about a contact, you must provide at least a contact number.

        relationship : OwnerRelationship
            Object that contains information about the owner's relationship to the business.

        owner_id : typing.Optional[int]
            Unique identifier that we assigned to the owner.

        middle_name : typing.Optional[str]
            Owner's middle name.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        HttpResponse[Owner]
            Successful request. We created the owner and added it to the funding recipient.
        """
        _response = self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}/owners",
            base_url=self._client_wrapper.get_environment().api,
            method="POST",
            json={
                "ownerId": owner_id,
                "firstName": first_name,
                "middleName": middle_name,
                "lastName": last_name,
                "dateOfBirth": date_of_birth,
                "address": convert_and_respect_annotation_metadata(
                    object_=address, annotation=Address, direction="write"
                ),
                "identifiers": convert_and_respect_annotation_metadata(
                    object_=identifiers, annotation=typing.Sequence[Identifier], direction="write"
                ),
                "contactMethods": convert_and_respect_annotation_metadata(
                    object_=contact_methods, annotation=typing.Sequence[ContactMethod], direction="write"
                ),
                "relationship": convert_and_respect_annotation_metadata(
                    object_=relationship, annotation=OwnerRelationship, direction="write"
                ),
            },
            headers={
                "content-type": "application/json",
                "Idempotency-Key": str(idempotency_key) if idempotency_key is not None else None,
            },
            request_options=request_options,
            omit=OMIT,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    Owner,
                    parse_obj_as(
                        type_=Owner,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return HttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 406:
                raise NotAcceptableError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredSix,
                        parse_obj_as(
                            type_=FourHundredSix,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 409:
                raise ConflictError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredNine,
                        parse_obj_as(
                            type_=FourHundredNine,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)


class AsyncRawFundingRecipientsClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._client_wrapper = client_wrapper

    async def list(
        self,
        *,
        before: typing.Optional[str] = None,
        after: typing.Optional[str] = None,
        limit: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AsyncPayrocPager[FundingRecipient, PaginatedFundRecipients]:
        """
        Use this method to return a [paginated](https://docs.payroc.com/api/pagination) list of funding recipients linked to your account.

        Note: If you want to view the details of a specific funding recipient and you have its recipientId, use our [Retrieve Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/retrieve) method.

        Our gateway returns the following information about each funding recipient in the list:
        - Tax ID and Doing Business As (DBA) name.
        - Address and contact details.
        - Funding accounts linked to the funding recipient.

        For each funding recipient, we also return the recipientId, which you can use to perform follow-on actions.

        Parameters
        ----------
        before : typing.Optional[str]
            Return the previous page of results before the value that you specify.

            You can’t send the before parameter in the same request as the after parameter.

        after : typing.Optional[str]
            Return the next page of results after the value that you specify.

            You can’t send the after parameter in the same request as the before parameter.

        limit : typing.Optional[int]
            Limit the maximum number of results that we return for each page.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncPayrocPager[FundingRecipient, PaginatedFundRecipients]
            Successful request. Returns a paginated list of all funding recipients.
        """
        _response = await self._client_wrapper.httpx_client.request(
            "funding-recipients",
            base_url=self._client_wrapper.get_environment().api,
            method="GET",
            params={
                "before": before,
                "after": after,
                "limit": limit,
            },
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                _parsed_response = typing.cast(
                    PaginatedFundRecipients,
                    parse_obj_as(
                        type_=PaginatedFundRecipients,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return AsyncPayrocPager(initial_response=_parsed_response, client_wrapper=self._client_wrapper)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    async def create(
        self,
        *,
        idempotency_key: str,
        recipient_type: CreateFundingRecipientRecipientType,
        tax_id: str,
        doing_business_as: str,
        address: Address,
        contact_methods: typing.Sequence[ContactMethod],
        owners: typing.Sequence[Owner],
        funding_accounts: typing.Sequence[FundingAccount],
        charity_id: typing.Optional[str] = OMIT,
        metadata: typing.Optional[typing.Dict[str, str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AsyncHttpResponse[FundingRecipient]:
        """
        Use this method to create a funding recipient.

        A funding recipient is a business or organization that can receive funds but can't run transactions, for example, a charity.

        In the request, include the following information:
        -    Legal information, including its tax ID, Doing Business As (DBA) name, and address.
        -    Contact information, including the email address.
        -    Owners' details, including their contact details.
        -    Funding account details.

        Our gateway returns the recipientId of the funding recipient, which you can use to run follow-on actions.

        Parameters
        ----------
        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        recipient_type : CreateFundingRecipientRecipientType
            Type or legal structure of the funding recipient.

        tax_id : str
            Employer identification number (EIN) or Social Security number (SSN).

        doing_business_as : str
            Trading name of the business or organization.

        address : Address
            Address of the funding recipient.

        contact_methods : typing.Sequence[ContactMethod]
            Array of contactMethod objects that you can use to add contact methods for the funding recipient. You must provide at least an email address.

        owners : typing.Sequence[Owner]
            Array of owner objects. Each object contains information about an individual who owns or manages the funding recipient.

        funding_accounts : typing.Sequence[FundingAccount]
            Array of fundingAccount objects that you can use to add funding accounts to the funding recipient.

        charity_id : typing.Optional[str]
            Government identifier of the charity.

        metadata : typing.Optional[typing.Dict[str, str]]
            [Metadata](https://docs.payroc.com/api/metadata) object you can use to include custom data with your request.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncHttpResponse[FundingRecipient]
            Successful request. We created the funding recipient.
        """
        _response = await self._client_wrapper.httpx_client.request(
            "funding-recipients",
            base_url=self._client_wrapper.get_environment().api,
            method="POST",
            json={
                "recipientType": recipient_type,
                "taxId": tax_id,
                "charityId": charity_id,
                "doingBusinessAs": doing_business_as,
                "address": convert_and_respect_annotation_metadata(
                    object_=address, annotation=Address, direction="write"
                ),
                "contactMethods": convert_and_respect_annotation_metadata(
                    object_=contact_methods, annotation=typing.Sequence[ContactMethod], direction="write"
                ),
                "metadata": metadata,
                "owners": convert_and_respect_annotation_metadata(
                    object_=owners, annotation=typing.Sequence[Owner], direction="write"
                ),
                "fundingAccounts": convert_and_respect_annotation_metadata(
                    object_=funding_accounts, annotation=typing.Sequence[FundingAccount], direction="write"
                ),
            },
            headers={
                "content-type": "application/json",
                "Idempotency-Key": str(idempotency_key) if idempotency_key is not None else None,
            },
            request_options=request_options,
            omit=OMIT,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    FundingRecipient,
                    parse_obj_as(
                        type_=FundingRecipient,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return AsyncHttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 406:
                raise NotAcceptableError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredSix,
                        parse_obj_as(
                            type_=FourHundredSix,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 409:
                raise ConflictError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredNine,
                        parse_obj_as(
                            type_=FourHundredNine,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    async def retrieve(
        self, recipient_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> AsyncHttpResponse[FundingRecipient]:
        """
        Use this method to retrieve information about a funding recipient.

        To retrieve a funding recipient, you need its recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note:** If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        Our gateway returns the following information about the funding recipient:

        - Tax ID and Doing Business As (DBA) name.
        - Address and contact details.
        - Funding accounts linked to the funding recipient.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncHttpResponse[FundingRecipient]
            Successful request. Returns the requested funding recipient.
        """
        _response = await self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}",
            base_url=self._client_wrapper.get_environment().api,
            method="GET",
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    FundingRecipient,
                    parse_obj_as(
                        type_=FundingRecipient,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return AsyncHttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    async def update(
        self,
        recipient_id_: int,
        *,
        recipient_type: FundingRecipientRecipientType,
        tax_id: str,
        doing_business_as: str,
        address: Address,
        contact_methods: typing.Sequence[ContactMethod],
        recipient_id: typing.Optional[int] = OMIT,
        status: typing.Optional[FundingRecipientStatus] = OMIT,
        created_date: typing.Optional[dt.datetime] = OMIT,
        last_modified_date: typing.Optional[dt.datetime] = OMIT,
        charity_id: typing.Optional[str] = OMIT,
        metadata: typing.Optional[typing.Dict[str, str]] = OMIT,
        owners: typing.Optional[typing.Sequence[FundingRecipientOwnersItem]] = OMIT,
        funding_accounts: typing.Optional[typing.Sequence[FundingRecipientFundingAccountsItem]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AsyncHttpResponse[None]:
        """
        Use this method to update the details of a funding recipient. If a request contains significant changes, we might need to re-approve the funding recipient.

        To update a funding recipient, you need it's recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note**: If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        You can update the following details of a funding recipient:
        - Doing Business As (DBA) name
        - Tax ID and charity ID
        - Address and contact methods

        Parameters
        ----------
        recipient_id_ : int
            Unique identifier that we assigned to the funding recipient.

        recipient_type : FundingRecipientRecipientType
            Type or legal structure of the funding recipient.

        tax_id : str
            Employer identification number (EIN) or Social Security number (SSN).

        doing_business_as : str
            Legal name of the business or organization.

        address : Address
            Address of the funding recipient.

        contact_methods : typing.Sequence[ContactMethod]
            Array of contactMethod objects for the funding recipient.

        recipient_id : typing.Optional[int]
            Unique identifier that we assigned to the funding recipient.

        status : typing.Optional[FundingRecipientStatus]
            Indicates if we have approved the funding recipient.

        created_date : typing.Optional[dt.datetime]
            Date the funding recipient was created.

        last_modified_date : typing.Optional[dt.datetime]
            Date the funding recipient was last modified.

        charity_id : typing.Optional[str]
            Government identifier of the charity.

        metadata : typing.Optional[typing.Dict[str, str]]
            [Metadata](https://docs.payroc.com/api/metadata) object you can use to include custom data with your request.

        owners : typing.Optional[typing.Sequence[FundingRecipientOwnersItem]]
            Array of owner objects associated with the funding recipient.

        funding_accounts : typing.Optional[typing.Sequence[FundingRecipientFundingAccountsItem]]
            Array of fundingAccount objects associated with the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncHttpResponse[None]
        """
        _response = await self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id_)}",
            base_url=self._client_wrapper.get_environment().api,
            method="PUT",
            json={
                "recipientId": recipient_id,
                "status": status,
                "createdDate": created_date,
                "lastModifiedDate": last_modified_date,
                "recipientType": recipient_type,
                "taxId": tax_id,
                "charityId": charity_id,
                "doingBusinessAs": doing_business_as,
                "address": convert_and_respect_annotation_metadata(
                    object_=address, annotation=Address, direction="write"
                ),
                "contactMethods": convert_and_respect_annotation_metadata(
                    object_=contact_methods, annotation=typing.Sequence[ContactMethod], direction="write"
                ),
                "metadata": metadata,
                "owners": convert_and_respect_annotation_metadata(
                    object_=owners, annotation=typing.Sequence[FundingRecipientOwnersItem], direction="write"
                ),
                "fundingAccounts": convert_and_respect_annotation_metadata(
                    object_=funding_accounts,
                    annotation=typing.Sequence[FundingRecipientFundingAccountsItem],
                    direction="write",
                ),
            },
            headers={
                "content-type": "application/json",
            },
            request_options=request_options,
            omit=OMIT,
        )
        try:
            if 200 <= _response.status_code < 300:
                return AsyncHttpResponse(response=_response, data=None)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 406:
                raise NotAcceptableError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredSix,
                        parse_obj_as(
                            type_=FourHundredSix,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    async def delete(
        self, recipient_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> AsyncHttpResponse[None]:
        """
        Use this method to delete a funding recipient, including its funding accounts and owners.

        To delete a funding recipient, you need its recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note**: If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncHttpResponse[None]
        """
        _response = await self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}",
            base_url=self._client_wrapper.get_environment().api,
            method="DELETE",
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                return AsyncHttpResponse(response=_response, data=None)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    async def list_accounts(
        self, recipient_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> AsyncHttpResponse[typing.List[FundingAccount]]:
        """
        Use  this method to return a list of funding accounts associated with a funding recipient.

        **Note:** If you want to view the details of a specific funding account and you have its fundingAccountId, use our [Retrieve Funding Account](https://docs.payroc.com/api/schema/funding/funding-accounts/retrieve) method.

        To retrieve the funding accounts associated with a funding recipient, you need the recipientId. If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        Our gateway returns the following information about each funding account:
        -    Name of the account holder.
        -    ACH details for the account.
        -    Status of the account.

        Our gateway also returns the fundingAccountId, which you can use to run follow-on actions.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncHttpResponse[typing.List[FundingAccount]]
            Successful request. Returns a list of all funding accounts associated with the funding recipient.
        """
        _response = await self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}/funding-accounts",
            base_url=self._client_wrapper.get_environment().api,
            method="GET",
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    typing.List[FundingAccount],
                    parse_obj_as(
                        type_=typing.List[FundingAccount],  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return AsyncHttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    async def create_account(
        self,
        recipient_id: int,
        *,
        idempotency_key: str,
        type: FundingAccountType,
        use: FundingAccountUse,
        name_on_account: str,
        payment_methods: PaymentMethods,
        funding_account_id: typing.Optional[int] = OMIT,
        created_date: typing.Optional[dt.datetime] = OMIT,
        last_modified_date: typing.Optional[dt.datetime] = OMIT,
        status: typing.Optional[FundingAccountStatus] = OMIT,
        metadata: typing.Optional[typing.Dict[str, str]] = OMIT,
        links: typing.Optional[typing.Sequence[Link]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AsyncHttpResponse[FundingAccount]:
        """
        Use this method to create a funding account and add it to a funding recipient.

        To add a funding account to a funding recipient, you need the recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note:** If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        In the request, include the following information:
        -    Account type, for example, if the account is a checking or savings account.
        -    Account holder's name.
        -    ACH information, including the routing number and account number of the account.

        Our gateway returns the fundingAccountId, which you can use to run follow-on actions.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        type : FundingAccountType
            Type of funding account.

        use : FundingAccountUse
            Indicates if we send funds or withdraw funds from the account.
            - `credit` - Send funds to the account.
            - `debit` - Withdraw funds from the account.
            - `creditAndDebit` - Send funds and withdraw funds from the account.

            **Note:** If the funding account is associated with a funding recipient, we accept only a value of `credit`.

        name_on_account : str
            Name of the account holder.

        payment_methods : PaymentMethods
            Array of paymentMethod objects.

        funding_account_id : typing.Optional[int]
            Unique identifier that we assigned to the funding account.

        created_date : typing.Optional[dt.datetime]
            Date and time that we received your request to create the funding account in our system.

        last_modified_date : typing.Optional[dt.datetime]
            Date and time that the funding account was last modified.

        status : typing.Optional[FundingAccountStatus]
            Status of the funding account. The value is one of the following:
            - `approved` - We approved the funding account.
            - `rejected` - We rejected the funding account.
            - `pending` - We have not yet approved the funding account.
            - `hold` - Our Risk team have temporarily placed a hold on the funding account.

        metadata : typing.Optional[typing.Dict[str, str]]
            [Metadata](https://docs.payroc.com/api/metadata) object you can use to include custom data with your request.

        links : typing.Optional[typing.Sequence[Link]]
            Array of HATEOAS links.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncHttpResponse[FundingAccount]
            Successful request. We created the funding account and added it to the funding recipient.
        """
        _response = await self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}/funding-accounts",
            base_url=self._client_wrapper.get_environment().api,
            method="POST",
            json={
                "fundingAccountId": funding_account_id,
                "createdDate": created_date,
                "lastModifiedDate": last_modified_date,
                "status": status,
                "type": type,
                "use": use,
                "nameOnAccount": name_on_account,
                "paymentMethods": convert_and_respect_annotation_metadata(
                    object_=payment_methods, annotation=PaymentMethods, direction="write"
                ),
                "metadata": metadata,
                "links": convert_and_respect_annotation_metadata(
                    object_=links, annotation=typing.Sequence[Link], direction="write"
                ),
            },
            headers={
                "content-type": "application/json",
                "Idempotency-Key": str(idempotency_key) if idempotency_key is not None else None,
            },
            request_options=request_options,
            omit=OMIT,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    FundingAccount,
                    parse_obj_as(
                        type_=FundingAccount,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return AsyncHttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 406:
                raise NotAcceptableError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredSix,
                        parse_obj_as(
                            type_=FourHundredSix,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 409:
                raise ConflictError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredNine,
                        parse_obj_as(
                            type_=FourHundredNine,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    async def list_owners(
        self, recipient_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> AsyncHttpResponse[typing.List[Owner]]:
        """
        Use this method to return a list of owners of a funding recipient.

        **Note:** If you want to view the details of a specific owner and you have their ownerId, use our [Retrieve Owner](https://docs.payroc.com/api/schema/boarding/owners/retrieve) method.

        To list the owners of a funding recipient, you need its recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method. If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        Our gateway returns the following information about each owner in the list:
        -    Name, date of birth, and address.
        -    Contact details, including their email address.
        -    Relationship to the funding recipient.

        Our gateway also returns the ownerId, which you can use to perform follow-on actions.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncHttpResponse[typing.List[Owner]]
            Successful request. Returns a list of all owners associated with the funding recipient.
        """
        _response = await self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}/owners",
            base_url=self._client_wrapper.get_environment().api,
            method="GET",
            request_options=request_options,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    typing.List[Owner],
                    parse_obj_as(
                        type_=typing.List[Owner],  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return AsyncHttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)

    async def create_owner(
        self,
        recipient_id: int,
        *,
        idempotency_key: str,
        first_name: str,
        last_name: str,
        date_of_birth: dt.date,
        address: Address,
        identifiers: typing.Sequence[Identifier],
        contact_methods: typing.Sequence[ContactMethod],
        relationship: OwnerRelationship,
        owner_id: typing.Optional[int] = OMIT,
        middle_name: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AsyncHttpResponse[Owner]:
        """
        Use this method to add an additional owner to a funding recipient.

        To add an owner to a funding recipient, you need the recipientId. Our gateway returned the recipientId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method.

        **Note:** If you don't have the recipientId, use our [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient.

        In the request, include the following information about the owner:

        - Name, date of birth, and address.
        - Contact details, including their email address.
        - Relationship to the funding recipient, including whether they are a control prong.

        In the response, our gateway returns the ownerId, which you can use to run follow-on actions.

        Parameters
        ----------
        recipient_id : int
            Unique identifier that we assigned to the funding recipient.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        first_name : str
            Owner's first name.

        last_name : str
            Owner's last name.

        date_of_birth : dt.date
            Owner's date of birth. The format of this value is **YYYY-MM-DD**.

        address : Address

        identifiers : typing.Sequence[Identifier]
            Array of IDs.

        contact_methods : typing.Sequence[ContactMethod]
            Array of contactMethod objects.
            **Note:** If you are adding information about an owner, you must provide at least an email address. If you are adding information about a contact, you must provide at least a contact number.

        relationship : OwnerRelationship
            Object that contains information about the owner's relationship to the business.

        owner_id : typing.Optional[int]
            Unique identifier that we assigned to the owner.

        middle_name : typing.Optional[str]
            Owner's middle name.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncHttpResponse[Owner]
            Successful request. We created the owner and added it to the funding recipient.
        """
        _response = await self._client_wrapper.httpx_client.request(
            f"funding-recipients/{jsonable_encoder(recipient_id)}/owners",
            base_url=self._client_wrapper.get_environment().api,
            method="POST",
            json={
                "ownerId": owner_id,
                "firstName": first_name,
                "middleName": middle_name,
                "lastName": last_name,
                "dateOfBirth": date_of_birth,
                "address": convert_and_respect_annotation_metadata(
                    object_=address, annotation=Address, direction="write"
                ),
                "identifiers": convert_and_respect_annotation_metadata(
                    object_=identifiers, annotation=typing.Sequence[Identifier], direction="write"
                ),
                "contactMethods": convert_and_respect_annotation_metadata(
                    object_=contact_methods, annotation=typing.Sequence[ContactMethod], direction="write"
                ),
                "relationship": convert_and_respect_annotation_metadata(
                    object_=relationship, annotation=OwnerRelationship, direction="write"
                ),
            },
            headers={
                "content-type": "application/json",
                "Idempotency-Key": str(idempotency_key) if idempotency_key is not None else None,
            },
            request_options=request_options,
            omit=OMIT,
        )
        try:
            if 200 <= _response.status_code < 300:
                _data = typing.cast(
                    Owner,
                    parse_obj_as(
                        type_=Owner,  # type: ignore
                        object_=_response.json(),
                    ),
                )
                return AsyncHttpResponse(response=_response, data=_data)
            if _response.status_code == 400:
                raise BadRequestError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundred,
                        parse_obj_as(
                            type_=FourHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 401:
                raise UnauthorizedError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredOne,
                        parse_obj_as(
                            type_=FourHundredOne,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 403:
                raise ForbiddenError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        typing.Any,
                        parse_obj_as(
                            type_=typing.Any,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 404:
                raise NotFoundError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredFour,
                        parse_obj_as(
                            type_=FourHundredFour,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 406:
                raise NotAcceptableError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredSix,
                        parse_obj_as(
                            type_=FourHundredSix,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 409:
                raise ConflictError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FourHundredNine,
                        parse_obj_as(
                            type_=FourHundredNine,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            if _response.status_code == 500:
                raise InternalServerError(
                    headers=dict(_response.headers),
                    body=typing.cast(
                        FiveHundred,
                        parse_obj_as(
                            type_=FiveHundred,  # type: ignore
                            object_=_response.json(),
                        ),
                    ),
                )
            _response_json = _response.json()
        except JSONDecodeError:
            raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response.text)
        raise ApiError(status_code=_response.status_code, headers=dict(_response.headers), body=_response_json)
