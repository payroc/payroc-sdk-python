# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing

from ...core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ...core.custom_pagination import AsyncPayrocPager, SyncPayrocPager
from ...core.request_options import RequestOptions
from ...types.funding_account import FundingAccount
from ...types.funding_account_status import FundingAccountStatus
from ...types.funding_account_type import FundingAccountType
from ...types.funding_account_use import FundingAccountUse
from ...types.link import Link
from ...types.list_funding_accounts import ListFundingAccounts
from ...types.payment_methods import PaymentMethods
from .raw_client import AsyncRawFundingAccountsClient, RawFundingAccountsClient

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class FundingAccountsClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawFundingAccountsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawFundingAccountsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawFundingAccountsClient
        """
        return self._raw_client

    def list(
        self,
        *,
        before: typing.Optional[str] = None,
        after: typing.Optional[str] = None,
        limit: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> SyncPayrocPager[FundingAccount, ListFundingAccounts]:
        """
        Use this method to return a [paginated](https://docs.payroc.com/api/pagination) list of funding accounts associated with your account.

        **Note:** If you want to view the details of a specific funding account and you have its fundingAccountId, use our [Retrieve Funding Account](https://docs.payroc.com/api/schema/funding/funding-accounts/retrieve) method.

        Our gateway returns the following information about each funding account in the list:
        - Name of the account holder and ACH details for the account.
        - Status of the account.
        - Whether we send funds to the account, withdraw funds from the account, or both.

        For each funding account, we also return the fundingAccountId, which you can use to perform follow-on actions.

        Parameters
        ----------
        before : typing.Optional[str]
            Return the previous page of results before the value that you specify.

            You can’t send the before parameter in the same request as the after parameter.

        after : typing.Optional[str]
            Return the next page of results after the value that you specify.

            You can’t send the after parameter in the same request as the before parameter.

        limit : typing.Optional[int]
            Limit the maximum number of results that we return for each page.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SyncPayrocPager[FundingAccount, ListFundingAccounts]
            Successful request. Returns a paginated list of all funding accounts.

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        response = client.funding.funding_accounts.list(
            before="2571",
            after="8516",
            limit=1,
        )
        for item in response:
            yield item
        # alternatively, you can paginate page-by-page
        for page in response.iter_pages():
            yield page
        """
        return self._raw_client.list(before=before, after=after, limit=limit, request_options=request_options)

    def retrieve(
        self, funding_account_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> FundingAccount:
        """
        Use this method to retrieve information about a funding account.

        To retrieve a funding account, you need its fundingAccountId. Our gateway returned the fundingAccountId when you created the funding account.

        **Note:** If you don't have the fundingAccountId, use our [List Funding Accounts](https://docs.payroc.com/api/schema/funding/funding-accounts/list) method to search for the account.

        Our gateway returns the following information about the funding account:
        - Name of the account holder and ACH details for the account.
        - Status of the account.
        - Whether we send funds to the account, withdraw funds from the account, or both.

        Parameters
        ----------
        funding_account_id : int
            Unique identifier of the funding account.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        FundingAccount
            Successful request. Returns the requested funding account.

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.funding.funding_accounts.retrieve(
            funding_account_id=1,
        )
        """
        _response = self._raw_client.retrieve(funding_account_id, request_options=request_options)
        return _response.data

    def update(
        self,
        funding_account_id_: int,
        *,
        type: FundingAccountType,
        use: FundingAccountUse,
        name_on_account: str,
        payment_methods: PaymentMethods,
        funding_account_id: typing.Optional[int] = OMIT,
        created_date: typing.Optional[dt.datetime] = OMIT,
        last_modified_date: typing.Optional[dt.datetime] = OMIT,
        status: typing.Optional[FundingAccountStatus] = OMIT,
        metadata: typing.Optional[typing.Dict[str, str]] = OMIT,
        links: typing.Optional[typing.Sequence[Link]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        > **Important:** You can't update the details of a funding account that is associated with a processing account.

        Use this method to update the details of a funding account that is associated with a funding recipient.

        To update a funding account, you need its fundingAccountId. Our gateway returned the fundingAccountId when you created the funding account.

        **Note:** If you don’t have the fundingAccountId, use our [List Funding Accounts](https://docs.payroc.com/api/schema/funding/funding-accounts/list) method to search for the funding account.

        You can update the following details about the funding account:
        -    Account type.
        -    Account holder's name.
        -    ACH information for the account.

        Parameters
        ----------
        funding_account_id_ : int
            Unique identifier of the funding account.

        type : FundingAccountType
            Type of funding account.

        use : FundingAccountUse
            Indicates if we send funds or withdraw funds from the account.
            - `credit` - Send funds to the account.
            - `debit` - Withdraw funds from the account.
            - `creditAndDebit` - Send funds and withdraw funds from the account.

            **Note:** If the funding account is associated with a funding recipient, we accept only a value of `credit`.

        name_on_account : str
            Name of the account holder.

        payment_methods : PaymentMethods
            Array of paymentMethod objects.

        funding_account_id : typing.Optional[int]
            Unique identifier that we assigned to the funding account.

        created_date : typing.Optional[dt.datetime]
            Date and time that we received your request to create the funding account in our system.

        last_modified_date : typing.Optional[dt.datetime]
            Date and time that the funding account was last modified.

        status : typing.Optional[FundingAccountStatus]
            Status of the funding account. The value is one of the following:
            - `approved` - We approved the funding account.
            - `rejected` - We rejected the funding account.
            - `pending` - We have not yet approved the funding account.
            - `hold` - Our Risk team have temporarily placed a hold on the funding account.

        metadata : typing.Optional[typing.Dict[str, str]]
            [Metadata](https://docs.payroc.com/api/metadata) object you can use to include custom data with your request.

        links : typing.Optional[typing.Sequence[Link]]
            Array of HATEOAS links.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from payroc import PaymentMethodsItem_Ach, Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.funding.funding_accounts.update(
            funding_account_id_=1,
            type="checking",
            use="credit",
            name_on_account="Jane Doe",
            payment_methods=[PaymentMethodsItem_Ach()],
        )
        """
        _response = self._raw_client.update(
            funding_account_id_,
            type=type,
            use=use,
            name_on_account=name_on_account,
            payment_methods=payment_methods,
            funding_account_id=funding_account_id,
            created_date=created_date,
            last_modified_date=last_modified_date,
            status=status,
            metadata=metadata,
            links=links,
            request_options=request_options,
        )
        return _response.data

    def delete(self, funding_account_id: int, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        > **Important:** You can't delete a funding account that is associated with a processing account.

        Use this method to delete a funding account that is associated with a funding recipient.

        To delete a funding account, you need its fundingAccountId. Our gateway returned the fundingAccountId when you created the funding account.

        **Note:** If you don't have the fundingAccountId, use our [List Funding Accounts](https://docs.payroc.com/api/schema/funding/funding-accounts/list) method to search for the funding account.

        Parameters
        ----------
        funding_account_id : int
            Unique identifier of the funding account.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.funding.funding_accounts.delete(
            funding_account_id=1,
        )
        """
        _response = self._raw_client.delete(funding_account_id, request_options=request_options)
        return _response.data


class AsyncFundingAccountsClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawFundingAccountsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawFundingAccountsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawFundingAccountsClient
        """
        return self._raw_client

    async def list(
        self,
        *,
        before: typing.Optional[str] = None,
        after: typing.Optional[str] = None,
        limit: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AsyncPayrocPager[FundingAccount, ListFundingAccounts]:
        """
        Use this method to return a [paginated](https://docs.payroc.com/api/pagination) list of funding accounts associated with your account.

        **Note:** If you want to view the details of a specific funding account and you have its fundingAccountId, use our [Retrieve Funding Account](https://docs.payroc.com/api/schema/funding/funding-accounts/retrieve) method.

        Our gateway returns the following information about each funding account in the list:
        - Name of the account holder and ACH details for the account.
        - Status of the account.
        - Whether we send funds to the account, withdraw funds from the account, or both.

        For each funding account, we also return the fundingAccountId, which you can use to perform follow-on actions.

        Parameters
        ----------
        before : typing.Optional[str]
            Return the previous page of results before the value that you specify.

            You can’t send the before parameter in the same request as the after parameter.

        after : typing.Optional[str]
            Return the next page of results after the value that you specify.

            You can’t send the after parameter in the same request as the before parameter.

        limit : typing.Optional[int]
            Limit the maximum number of results that we return for each page.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncPayrocPager[FundingAccount, ListFundingAccounts]
            Successful request. Returns a paginated list of all funding accounts.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            response = await client.funding.funding_accounts.list(
                before="2571",
                after="8516",
                limit=1,
            )
            async for item in response:
                yield item

            # alternatively, you can paginate page-by-page
            async for page in response.iter_pages():
                yield page


        asyncio.run(main())
        """
        return await self._raw_client.list(before=before, after=after, limit=limit, request_options=request_options)

    async def retrieve(
        self, funding_account_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> FundingAccount:
        """
        Use this method to retrieve information about a funding account.

        To retrieve a funding account, you need its fundingAccountId. Our gateway returned the fundingAccountId when you created the funding account.

        **Note:** If you don't have the fundingAccountId, use our [List Funding Accounts](https://docs.payroc.com/api/schema/funding/funding-accounts/list) method to search for the account.

        Our gateway returns the following information about the funding account:
        - Name of the account holder and ACH details for the account.
        - Status of the account.
        - Whether we send funds to the account, withdraw funds from the account, or both.

        Parameters
        ----------
        funding_account_id : int
            Unique identifier of the funding account.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        FundingAccount
            Successful request. Returns the requested funding account.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.funding.funding_accounts.retrieve(
                funding_account_id=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.retrieve(funding_account_id, request_options=request_options)
        return _response.data

    async def update(
        self,
        funding_account_id_: int,
        *,
        type: FundingAccountType,
        use: FundingAccountUse,
        name_on_account: str,
        payment_methods: PaymentMethods,
        funding_account_id: typing.Optional[int] = OMIT,
        created_date: typing.Optional[dt.datetime] = OMIT,
        last_modified_date: typing.Optional[dt.datetime] = OMIT,
        status: typing.Optional[FundingAccountStatus] = OMIT,
        metadata: typing.Optional[typing.Dict[str, str]] = OMIT,
        links: typing.Optional[typing.Sequence[Link]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        > **Important:** You can't update the details of a funding account that is associated with a processing account.

        Use this method to update the details of a funding account that is associated with a funding recipient.

        To update a funding account, you need its fundingAccountId. Our gateway returned the fundingAccountId when you created the funding account.

        **Note:** If you don’t have the fundingAccountId, use our [List Funding Accounts](https://docs.payroc.com/api/schema/funding/funding-accounts/list) method to search for the funding account.

        You can update the following details about the funding account:
        -    Account type.
        -    Account holder's name.
        -    ACH information for the account.

        Parameters
        ----------
        funding_account_id_ : int
            Unique identifier of the funding account.

        type : FundingAccountType
            Type of funding account.

        use : FundingAccountUse
            Indicates if we send funds or withdraw funds from the account.
            - `credit` - Send funds to the account.
            - `debit` - Withdraw funds from the account.
            - `creditAndDebit` - Send funds and withdraw funds from the account.

            **Note:** If the funding account is associated with a funding recipient, we accept only a value of `credit`.

        name_on_account : str
            Name of the account holder.

        payment_methods : PaymentMethods
            Array of paymentMethod objects.

        funding_account_id : typing.Optional[int]
            Unique identifier that we assigned to the funding account.

        created_date : typing.Optional[dt.datetime]
            Date and time that we received your request to create the funding account in our system.

        last_modified_date : typing.Optional[dt.datetime]
            Date and time that the funding account was last modified.

        status : typing.Optional[FundingAccountStatus]
            Status of the funding account. The value is one of the following:
            - `approved` - We approved the funding account.
            - `rejected` - We rejected the funding account.
            - `pending` - We have not yet approved the funding account.
            - `hold` - Our Risk team have temporarily placed a hold on the funding account.

        metadata : typing.Optional[typing.Dict[str, str]]
            [Metadata](https://docs.payroc.com/api/metadata) object you can use to include custom data with your request.

        links : typing.Optional[typing.Sequence[Link]]
            Array of HATEOAS links.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc, PaymentMethodsItem_Ach

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.funding.funding_accounts.update(
                funding_account_id_=1,
                type="checking",
                use="credit",
                name_on_account="Jane Doe",
                payment_methods=[PaymentMethodsItem_Ach()],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update(
            funding_account_id_,
            type=type,
            use=use,
            name_on_account=name_on_account,
            payment_methods=payment_methods,
            funding_account_id=funding_account_id,
            created_date=created_date,
            last_modified_date=last_modified_date,
            status=status,
            metadata=metadata,
            links=links,
            request_options=request_options,
        )
        return _response.data

    async def delete(self, funding_account_id: int, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        > **Important:** You can't delete a funding account that is associated with a processing account.

        Use this method to delete a funding account that is associated with a funding recipient.

        To delete a funding account, you need its fundingAccountId. Our gateway returned the fundingAccountId when you created the funding account.

        **Note:** If you don't have the fundingAccountId, use our [List Funding Accounts](https://docs.payroc.com/api/schema/funding/funding-accounts/list) method to search for the funding account.

        Parameters
        ----------
        funding_account_id : int
            Unique identifier of the funding account.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.funding.funding_accounts.delete(
                funding_account_id=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete(funding_account_id, request_options=request_options)
        return _response.data
