# This file was auto-generated by Fern from our API Definition.

import typing

from ...core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ...core.custom_pagination import AsyncPayrocPager, SyncPayrocPager
from ...core.request_options import RequestOptions
from ...types.event_subscription import EventSubscription
from ...types.event_subscription_status import EventSubscriptionStatus
from ...types.notification import Notification
from ...types.paginated_event_subscriptions import PaginatedEventSubscriptions
from ...types.patch_request import PatchRequest
from .raw_client import AsyncRawEventSubscriptionsClient, RawEventSubscriptionsClient
from .types.list_event_subscriptions_request_status import ListEventSubscriptionsRequestStatus

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class EventSubscriptionsClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawEventSubscriptionsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawEventSubscriptionsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawEventSubscriptionsClient
        """
        return self._raw_client

    def list(
        self,
        *,
        status: typing.Optional[ListEventSubscriptionsRequestStatus] = None,
        event: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> SyncPayrocPager[EventSubscription, PaginatedEventSubscriptions]:
        """
        Use this method to return a [paginated](https://docs.payroc.com/api/pagination) list of event subscriptions that are linked to your ISV account.

        **Note:** If you want to view the details of a specific event subscription and you have its id, use our [Retrieve Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/retrieve) method.

        Use query parameters to filter the list of results that we return, for example, to search for subscriptions with a specific status or an event type.

        Our gateway returns the following information about each subscription in the list:
        - Event types that you have subscribed to.
        - Whether you have enabled notifications for the subscription.
        - How we contact you when an event occurs, including the endpoint that send notifications to.
        - If there are any issues when we try to send you a notification, for example, if we can't contact your endpoint.

        For each event subscription, we also return its id, which you can use to perform follow-on actions.

        Parameters
        ----------
        status : typing.Optional[ListEventSubscriptionsRequestStatus]
            Filter event subscriptions by subscription status.

        event : typing.Optional[str]
            Filter event subscriptions by an event type. For a list of event types, go to [Events List](https://docs.payroc.com/knowledge/events/events-list).

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SyncPayrocPager[EventSubscription, PaginatedEventSubscriptions]
            Successful request. Returns a list of event subscriptions.

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            api_key="YOUR_API_KEY",
        )
        response = client.notifications.event_subscriptions.list(
            status="registered",
            event="processingAccount.status.changed",
        )
        for item in response:
            yield item
        # alternatively, you can paginate page-by-page
        for page in response.iter_pages():
            yield page
        """
        return self._raw_client.list(status=status, event=event, request_options=request_options)

    def create(
        self,
        *,
        idempotency_key: str,
        enabled: bool,
        event_types: typing.Sequence[str],
        notifications: typing.Sequence[Notification],
        id: typing.Optional[int] = OMIT,
        status: typing.Optional[EventSubscriptionStatus] = OMIT,
        metadata: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> EventSubscription:
        """
        Use this method to create an event subscription that we use to notify you when an event occurs, for example, when we change the status of a processing account.

        In the request, include the events that you want to subscribe to and the public endpoint that we send event notifications to. For a complete list of events that you can subscribe to, go to [Events List](https://docs.payroc.com/knowledge/events/events-list).

        In the response, our gateway returns the id of the event subscription, which you can use to perform follow-on actions.

        Parameters
        ----------
        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        enabled : bool
            Indicates if we should notify you when the event occurs. The value is one of the following:
            - `true` - We notify you when the event occurs.
            - `false` - We don't notify you when the event occurs.

        event_types : typing.Sequence[str]
            Array of events that you want to subscribe to. For a list of events, go to [Events List](https://docs.payroc.com/knowledge/events/events-list).

        notifications : typing.Sequence[Notification]
            Array of polymorphic notification objects that contain information about how we contact you when an event occurs.

        id : typing.Optional[int]
            Unique identifier that we assigned to the event subscription.

        status : typing.Optional[EventSubscriptionStatus]
            Status of the subscription. We return one of the following values:
            - `registered` - You have set up the subscription, and we will notify you when an event occurs.
            - `suspended` - We have deactivated the event subscription, and we won't notify you when an event occurs.
            - `failed` - We couldn't contact your URI endpoint. We email the supportEmailAddress.

        metadata : typing.Optional[typing.Dict[str, typing.Any]]
            Object that you can send to include custom data in the request. For more information about how to use metadata, go to [Metadata](https://docs.payroc.com/api/metadata).

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        EventSubscription
            Successful request. We created the event subscription.

        Examples
        --------
        from payroc import Notification_Webhook, Payroc

        client = Payroc(
            api_key="YOUR_API_KEY",
        )
        client.notifications.event_subscriptions.create(
            idempotency_key="8e03978e-40d5-43e8-bc93-6894a57f9324",
            enabled=True,
            event_types=["processingAccount.status.changed"],
            notifications=[
                Notification_Webhook(
                    uri="https://my-server/notification/endpoint",
                    secret="aBcD1234eFgH5678iJkL9012mNoP3456",
                    support_email_address="supportEmailAddress",
                )
            ],
            metadata={"yourCustomField": "abc123"},
        )
        """
        _response = self._raw_client.create(
            idempotency_key=idempotency_key,
            enabled=enabled,
            event_types=event_types,
            notifications=notifications,
            id=id,
            status=status,
            metadata=metadata,
            request_options=request_options,
        )
        return _response.data

    def retrieve(
        self, subscription_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> EventSubscription:
        """
        Use this method to retrieve the details of an event subscription.

        In your request, include the subscriptionId that we sent to you when we created the event subscription.

        **Note:** If you don't know the subscriptionId of the event subscription, go to [List event subscriptions](https://docs.payroc.com/api/schema/notifications/event-subscriptions/list).

        Parameters
        ----------
        subscription_id : int
            Unique identifier that we assigned to the event subscription.
            **Note:** Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        EventSubscription
            Returns the event subscription object.

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            api_key="YOUR_API_KEY",
        )
        client.notifications.event_subscriptions.retrieve(
            subscription_id=1,
        )
        """
        _response = self._raw_client.retrieve(subscription_id, request_options=request_options)
        return _response.data

    def update(
        self,
        subscription_id: int,
        *,
        enabled: bool,
        event_types: typing.Sequence[str],
        notifications: typing.Sequence[Notification],
        id: typing.Optional[int] = OMIT,
        status: typing.Optional[EventSubscriptionStatus] = OMIT,
        metadata: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        Use this method to update the details of an event subscription.

        To update an event subscription, you need its subscriptionId. Our gateway returned the subscriptionId in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        **Note:** If you don’t have the subscriptionId, use our [List Event Subscriptions](https://docs.payroc.com/api/schema/notifications/event-subscriptions/list) method to search for the event subscription.

        You can update the following details about an event subscription:

        - Status of the event subscription.
        - Events that you have subscribed to. For a list of events that you can subscribe to, go to [Events list](https://docs.payroc.com/knowledge/events/events-list).
        - Information about how we contact you when an event occurs.

        Parameters
        ----------
        subscription_id : int
            Unique identifier that we assigned to the event subscription.
            **Note:** Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        enabled : bool
            Indicates if we should notify you when the event occurs. The value is one of the following:
            - `true` - We notify you when the event occurs.
            - `false` - We don't notify you when the event occurs.

        event_types : typing.Sequence[str]
            Array of events that you want to subscribe to. For a list of events, go to [Events List](https://docs.payroc.com/knowledge/events/events-list).

        notifications : typing.Sequence[Notification]
            Array of polymorphic notification objects that contain information about how we contact you when an event occurs.

        id : typing.Optional[int]
            Unique identifier that we assigned to the event subscription.

        status : typing.Optional[EventSubscriptionStatus]
            Status of the subscription. We return one of the following values:
            - `registered` - You have set up the subscription, and we will notify you when an event occurs.
            - `suspended` - We have deactivated the event subscription, and we won't notify you when an event occurs.
            - `failed` - We couldn't contact your URI endpoint. We email the supportEmailAddress.

        metadata : typing.Optional[typing.Dict[str, typing.Any]]
            Object that you can send to include custom data in the request. For more information about how to use metadata, go to [Metadata](https://docs.payroc.com/api/metadata).

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from payroc import Notification_Webhook, Payroc

        client = Payroc(
            api_key="YOUR_API_KEY",
        )
        client.notifications.event_subscriptions.update(
            subscription_id=1,
            enabled=True,
            event_types=["processingAccount.status.changed"],
            notifications=[
                Notification_Webhook(
                    uri="https://my-server/notification/endpoint",
                    secret="aBcD1234eFgH5678iJkL9012mNoP3456",
                    support_email_address="supportEmailAddress",
                )
            ],
            metadata={"yourCustomField": "abc123"},
        )
        """
        _response = self._raw_client.update(
            subscription_id,
            enabled=enabled,
            event_types=event_types,
            notifications=notifications,
            id=id,
            status=status,
            metadata=metadata,
            request_options=request_options,
        )
        return _response.data

    def delete(self, subscription_id: int, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Use this method to delete an event subscription.

        > **Important:** After you delete an event subscription, you can’t recover it. You won't receive event notifications from the event subscription.

        To delete an event subscription, you need its subscriptionId. Our gateway returned the subscriptionId in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        If you want to stop receiving event notifications but don't want to delete the event subscription, use our [Update Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/update) method to deactivate it.

        Parameters
        ----------
        subscription_id : int
            Unique identifier that we assigned to the event subscription.
            **Note:** Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            api_key="YOUR_API_KEY",
        )
        client.notifications.event_subscriptions.delete(
            subscription_id=1,
        )
        """
        _response = self._raw_client.delete(subscription_id, request_options=request_options)
        return _response.data

    def partially_update(
        self,
        subscription_id: int,
        *,
        idempotency_key: str,
        request: PatchRequest,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> EventSubscription:
        """
        Use this method to partially update an event subscription. Structure your request to follow the [RFC 6902](https://datatracker.ietf.org/doc/html/rfc6902) standard.

        To update an event subscription, you need its subscriptionId. Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        **Note:** If you don't have the subscriptionId, use our [List Event Subscriptions](https://docs.payroc.com/api/schema/notifications/event-subscriptions/list) method to search for the subscription.

        You can update the following properties of an event subscription:
        - **eventTypes** - Subscribe to new events or remove events that you are subscribed to.
        - **notifications** - Information about your endpoint and who we email if we can't contact your endpoint.
        - **enabled** - Turn on or turn off notifications for the subscription.

        Parameters
        ----------
        subscription_id : int
            Unique identifier that we assigned to the event subscription.
            **Note:** Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        request : PatchRequest

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        EventSubscription
            Successful request. We updated the event subscription.

        Examples
        --------
        from payroc import PatchDocument_Remove, Payroc

        client = Payroc(
            api_key="YOUR_API_KEY",
        )
        client.notifications.event_subscriptions.partially_update(
            subscription_id=1,
            idempotency_key="8e03978e-40d5-43e8-bc93-6894a57f9324",
            request=[
                PatchDocument_Remove(
                    path="path",
                )
            ],
        )
        """
        _response = self._raw_client.partially_update(
            subscription_id, idempotency_key=idempotency_key, request=request, request_options=request_options
        )
        return _response.data


class AsyncEventSubscriptionsClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawEventSubscriptionsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawEventSubscriptionsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawEventSubscriptionsClient
        """
        return self._raw_client

    async def list(
        self,
        *,
        status: typing.Optional[ListEventSubscriptionsRequestStatus] = None,
        event: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AsyncPayrocPager[EventSubscription, PaginatedEventSubscriptions]:
        """
        Use this method to return a [paginated](https://docs.payroc.com/api/pagination) list of event subscriptions that are linked to your ISV account.

        **Note:** If you want to view the details of a specific event subscription and you have its id, use our [Retrieve Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/retrieve) method.

        Use query parameters to filter the list of results that we return, for example, to search for subscriptions with a specific status or an event type.

        Our gateway returns the following information about each subscription in the list:
        - Event types that you have subscribed to.
        - Whether you have enabled notifications for the subscription.
        - How we contact you when an event occurs, including the endpoint that send notifications to.
        - If there are any issues when we try to send you a notification, for example, if we can't contact your endpoint.

        For each event subscription, we also return its id, which you can use to perform follow-on actions.

        Parameters
        ----------
        status : typing.Optional[ListEventSubscriptionsRequestStatus]
            Filter event subscriptions by subscription status.

        event : typing.Optional[str]
            Filter event subscriptions by an event type. For a list of event types, go to [Events List](https://docs.payroc.com/knowledge/events/events-list).

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AsyncPayrocPager[EventSubscription, PaginatedEventSubscriptions]
            Successful request. Returns a list of event subscriptions.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            response = await client.notifications.event_subscriptions.list(
                status="registered",
                event="processingAccount.status.changed",
            )
            async for item in response:
                yield item

            # alternatively, you can paginate page-by-page
            async for page in response.iter_pages():
                yield page


        asyncio.run(main())
        """
        return await self._raw_client.list(status=status, event=event, request_options=request_options)

    async def create(
        self,
        *,
        idempotency_key: str,
        enabled: bool,
        event_types: typing.Sequence[str],
        notifications: typing.Sequence[Notification],
        id: typing.Optional[int] = OMIT,
        status: typing.Optional[EventSubscriptionStatus] = OMIT,
        metadata: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> EventSubscription:
        """
        Use this method to create an event subscription that we use to notify you when an event occurs, for example, when we change the status of a processing account.

        In the request, include the events that you want to subscribe to and the public endpoint that we send event notifications to. For a complete list of events that you can subscribe to, go to [Events List](https://docs.payroc.com/knowledge/events/events-list).

        In the response, our gateway returns the id of the event subscription, which you can use to perform follow-on actions.

        Parameters
        ----------
        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        enabled : bool
            Indicates if we should notify you when the event occurs. The value is one of the following:
            - `true` - We notify you when the event occurs.
            - `false` - We don't notify you when the event occurs.

        event_types : typing.Sequence[str]
            Array of events that you want to subscribe to. For a list of events, go to [Events List](https://docs.payroc.com/knowledge/events/events-list).

        notifications : typing.Sequence[Notification]
            Array of polymorphic notification objects that contain information about how we contact you when an event occurs.

        id : typing.Optional[int]
            Unique identifier that we assigned to the event subscription.

        status : typing.Optional[EventSubscriptionStatus]
            Status of the subscription. We return one of the following values:
            - `registered` - You have set up the subscription, and we will notify you when an event occurs.
            - `suspended` - We have deactivated the event subscription, and we won't notify you when an event occurs.
            - `failed` - We couldn't contact your URI endpoint. We email the supportEmailAddress.

        metadata : typing.Optional[typing.Dict[str, typing.Any]]
            Object that you can send to include custom data in the request. For more information about how to use metadata, go to [Metadata](https://docs.payroc.com/api/metadata).

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        EventSubscription
            Successful request. We created the event subscription.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc, Notification_Webhook

        client = AsyncPayroc(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.notifications.event_subscriptions.create(
                idempotency_key="8e03978e-40d5-43e8-bc93-6894a57f9324",
                enabled=True,
                event_types=["processingAccount.status.changed"],
                notifications=[
                    Notification_Webhook(
                        uri="https://my-server/notification/endpoint",
                        secret="aBcD1234eFgH5678iJkL9012mNoP3456",
                        support_email_address="supportEmailAddress",
                    )
                ],
                metadata={"yourCustomField": "abc123"},
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.create(
            idempotency_key=idempotency_key,
            enabled=enabled,
            event_types=event_types,
            notifications=notifications,
            id=id,
            status=status,
            metadata=metadata,
            request_options=request_options,
        )
        return _response.data

    async def retrieve(
        self, subscription_id: int, *, request_options: typing.Optional[RequestOptions] = None
    ) -> EventSubscription:
        """
        Use this method to retrieve the details of an event subscription.

        In your request, include the subscriptionId that we sent to you when we created the event subscription.

        **Note:** If you don't know the subscriptionId of the event subscription, go to [List event subscriptions](https://docs.payroc.com/api/schema/notifications/event-subscriptions/list).

        Parameters
        ----------
        subscription_id : int
            Unique identifier that we assigned to the event subscription.
            **Note:** Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        EventSubscription
            Returns the event subscription object.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.notifications.event_subscriptions.retrieve(
                subscription_id=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.retrieve(subscription_id, request_options=request_options)
        return _response.data

    async def update(
        self,
        subscription_id: int,
        *,
        enabled: bool,
        event_types: typing.Sequence[str],
        notifications: typing.Sequence[Notification],
        id: typing.Optional[int] = OMIT,
        status: typing.Optional[EventSubscriptionStatus] = OMIT,
        metadata: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        Use this method to update the details of an event subscription.

        To update an event subscription, you need its subscriptionId. Our gateway returned the subscriptionId in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        **Note:** If you don’t have the subscriptionId, use our [List Event Subscriptions](https://docs.payroc.com/api/schema/notifications/event-subscriptions/list) method to search for the event subscription.

        You can update the following details about an event subscription:

        - Status of the event subscription.
        - Events that you have subscribed to. For a list of events that you can subscribe to, go to [Events list](https://docs.payroc.com/knowledge/events/events-list).
        - Information about how we contact you when an event occurs.

        Parameters
        ----------
        subscription_id : int
            Unique identifier that we assigned to the event subscription.
            **Note:** Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        enabled : bool
            Indicates if we should notify you when the event occurs. The value is one of the following:
            - `true` - We notify you when the event occurs.
            - `false` - We don't notify you when the event occurs.

        event_types : typing.Sequence[str]
            Array of events that you want to subscribe to. For a list of events, go to [Events List](https://docs.payroc.com/knowledge/events/events-list).

        notifications : typing.Sequence[Notification]
            Array of polymorphic notification objects that contain information about how we contact you when an event occurs.

        id : typing.Optional[int]
            Unique identifier that we assigned to the event subscription.

        status : typing.Optional[EventSubscriptionStatus]
            Status of the subscription. We return one of the following values:
            - `registered` - You have set up the subscription, and we will notify you when an event occurs.
            - `suspended` - We have deactivated the event subscription, and we won't notify you when an event occurs.
            - `failed` - We couldn't contact your URI endpoint. We email the supportEmailAddress.

        metadata : typing.Optional[typing.Dict[str, typing.Any]]
            Object that you can send to include custom data in the request. For more information about how to use metadata, go to [Metadata](https://docs.payroc.com/api/metadata).

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc, Notification_Webhook

        client = AsyncPayroc(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.notifications.event_subscriptions.update(
                subscription_id=1,
                enabled=True,
                event_types=["processingAccount.status.changed"],
                notifications=[
                    Notification_Webhook(
                        uri="https://my-server/notification/endpoint",
                        secret="aBcD1234eFgH5678iJkL9012mNoP3456",
                        support_email_address="supportEmailAddress",
                    )
                ],
                metadata={"yourCustomField": "abc123"},
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update(
            subscription_id,
            enabled=enabled,
            event_types=event_types,
            notifications=notifications,
            id=id,
            status=status,
            metadata=metadata,
            request_options=request_options,
        )
        return _response.data

    async def delete(self, subscription_id: int, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Use this method to delete an event subscription.

        > **Important:** After you delete an event subscription, you can’t recover it. You won't receive event notifications from the event subscription.

        To delete an event subscription, you need its subscriptionId. Our gateway returned the subscriptionId in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        If you want to stop receiving event notifications but don't want to delete the event subscription, use our [Update Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/update) method to deactivate it.

        Parameters
        ----------
        subscription_id : int
            Unique identifier that we assigned to the event subscription.
            **Note:** Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.notifications.event_subscriptions.delete(
                subscription_id=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete(subscription_id, request_options=request_options)
        return _response.data

    async def partially_update(
        self,
        subscription_id: int,
        *,
        idempotency_key: str,
        request: PatchRequest,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> EventSubscription:
        """
        Use this method to partially update an event subscription. Structure your request to follow the [RFC 6902](https://datatracker.ietf.org/doc/html/rfc6902) standard.

        To update an event subscription, you need its subscriptionId. Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        **Note:** If you don't have the subscriptionId, use our [List Event Subscriptions](https://docs.payroc.com/api/schema/notifications/event-subscriptions/list) method to search for the subscription.

        You can update the following properties of an event subscription:
        - **eventTypes** - Subscribe to new events or remove events that you are subscribed to.
        - **notifications** - Information about your endpoint and who we email if we can't contact your endpoint.
        - **enabled** - Turn on or turn off notifications for the subscription.

        Parameters
        ----------
        subscription_id : int
            Unique identifier that we assigned to the event subscription.
            **Note:** Our gateway returned the subscriptionId in the id field in the response of the [Create Event Subscription](https://docs.payroc.com/api/schema/notifications/event-subscriptions/create) method.

        idempotency_key : str
            Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).

        request : PatchRequest

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        EventSubscription
            Successful request. We updated the event subscription.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc, PatchDocument_Remove

        client = AsyncPayroc(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.notifications.event_subscriptions.partially_update(
                subscription_id=1,
                idempotency_key="8e03978e-40d5-43e8-bc93-6894a57f9324",
                request=[
                    PatchDocument_Remove(
                        path="path",
                    )
                ],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.partially_update(
            subscription_id, idempotency_key=idempotency_key, request=request, request_options=request_options
        )
        return _response.data
