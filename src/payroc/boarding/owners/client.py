# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing

from ...core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ...core.request_options import RequestOptions
from ...types.address import Address
from ...types.contact_method import ContactMethod
from ...types.identifier import Identifier
from ...types.owner import Owner
from ...types.owner_relationship import OwnerRelationship
from .raw_client import AsyncRawOwnersClient, RawOwnersClient

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class OwnersClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawOwnersClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawOwnersClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawOwnersClient
        """
        return self._raw_client

    def retrieve(self, owner_id: int, *, request_options: typing.Optional[RequestOptions] = None) -> Owner:
        """
        Use this method to retrieve details about an owner of a processing account or an owner associated with a funding recipient.

        To retrieve an owner, you need their ownerId. Our gateway returned the ownerId in the response of the [Create Processing Account](https://docs.payroc.com/api/schema/boarding/merchant-platforms/create-processing-account) method or the [Create Funding Recipient Owner](https://docs.payroc.com/api/schema/funding/funding-recipients/create-owner) method.

        **Note:** If you don't have the ownerId, use the [Retrieve Processing Account](https://docs.payroc.com/api/schema/boarding/processing-accounts/retrieve) method if you are searching for a processing account owner, or use the [List Funding Recipient Owners](https://docs.payroc.com/api/schema/funding/funding-recipients/list-owners) method if you are searching for a funding recipient owner.

        Our gateway returns the following information about an owner:
        - Name, date of birth, and address.
        - Contact details, including their email address.
        - Relationship to the business, including whether they are a control prong or authorized signatory, and their equity stake in the business.

        Parameters
        ----------
        owner_id : int
            Unique identifier that we assigned to the owner.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        Owner
            Successful request. Returns the requested owner.

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.boarding.owners.retrieve(
            owner_id=1,
        )
        """
        _response = self._raw_client.retrieve(owner_id, request_options=request_options)
        return _response.data

    def update(
        self,
        owner_id_: int,
        *,
        first_name: str,
        last_name: str,
        date_of_birth: dt.date,
        address: Address,
        identifiers: typing.Sequence[Identifier],
        contact_methods: typing.Sequence[ContactMethod],
        relationship: OwnerRelationship,
        owner_id: typing.Optional[int] = OMIT,
        middle_name: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        > **Important:** You can't update the details of an owner of a processing account.

        Use this method to update the details of an owner associated with a funding recipient.

        To update an owner, you need their ownerId. Our gateway returned the ownerId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method and the [Create Funding Recipient Owner](https://docs.payroc.com/api/schema/funding/funding-recipients/create-owner) method.

        **Note:** If you don't have the ownerId, use the [List Funding Recipient Owners](https://docs.payroc.com/api/schema/funding/funding-recipients/list-owners) method, the [Retrieve Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/retrieve) method, or the [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient owner.

        You can update the following details about an owner:

        - Personal details, including their name, date of birth, and address.
        - Identification details, including their identification type and number.
        - Contact details, including their email address.
        - Relationship to the business, including whether they are a control prong.

        Parameters
        ----------
        owner_id_ : int
            Unique identifier that we assigned to the owner.

        first_name : str
            Owner's first name.

        last_name : str
            Owner's last name.

        date_of_birth : dt.date
            Owner's date of birth. The format of this value is **YYYY-MM-DD**.

        address : Address

        identifiers : typing.Sequence[Identifier]
            Array of IDs.

        contact_methods : typing.Sequence[ContactMethod]
            Array of contactMethod objects.
            **Note:** If you are adding information about an owner, you must provide at least an email address. If you are adding information about a contact, you must provide at least a contact number.

        relationship : OwnerRelationship
            Object that contains information about the owner's relationship to the business.

        owner_id : typing.Optional[int]
            Unique identifier that we assigned to the owner.

        middle_name : typing.Optional[str]
            Owner's middle name.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import datetime

        from payroc import (
            Address,
            ContactMethod_Email,
            Identifier,
            OwnerRelationship,
            Payroc,
        )

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.boarding.owners.update(
            owner_id_=1,
            first_name="Jane",
            middle_name="Helen",
            last_name="Doe",
            date_of_birth=datetime.date.fromisoformat(
                "1964-03-22",
            ),
            address=Address(
                address_1="1 Example Ave.",
                address_2="Example Address Line 2",
                address_3="Example Address Line 3",
                city="Chicago",
                state="Illinois",
                country="US",
                postal_code="60056",
            ),
            identifiers=[
                Identifier(
                    type="nationalId",
                    value="000-00-4320",
                )
            ],
            contact_methods=[
                ContactMethod_Email(
                    value="jane.doe@example.com",
                )
            ],
            relationship=OwnerRelationship(
                equity_percentage=48.5,
                title="CFO",
                is_control_prong=True,
                is_authorized_signatory=False,
            ),
        )
        """
        _response = self._raw_client.update(
            owner_id_,
            first_name=first_name,
            last_name=last_name,
            date_of_birth=date_of_birth,
            address=address,
            identifiers=identifiers,
            contact_methods=contact_methods,
            relationship=relationship,
            owner_id=owner_id,
            middle_name=middle_name,
            request_options=request_options,
        )
        return _response.data

    def delete(self, owner_id: int, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        > **Important:** You can't delete an owner of a processing account.

        Use this method to delete an owner associated with a funding recipient. You can delete an owner only if the funding recipient has more than one owner.

        To delete an owner, you need their ownerId. Our gateway returned the ownerId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method and the [Create Funding Recipient Owner](https://docs.payroc.com/api/schema/funding/funding-recipients/create-owner) method.

        **Note:** If you don't have the ownerId, use the [List Funding Recipient Owners](https://docs.payroc.com/api/schema/funding/funding-recipients/list-owners) method, the [Retrieve Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/retrieve) method, or the [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient owner.

        Parameters
        ----------
        owner_id : int
            Unique identifier that we assigned to the owner.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from payroc import Payroc

        client = Payroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )
        client.boarding.owners.delete(
            owner_id=1,
        )
        """
        _response = self._raw_client.delete(owner_id, request_options=request_options)
        return _response.data


class AsyncOwnersClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawOwnersClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawOwnersClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawOwnersClient
        """
        return self._raw_client

    async def retrieve(self, owner_id: int, *, request_options: typing.Optional[RequestOptions] = None) -> Owner:
        """
        Use this method to retrieve details about an owner of a processing account or an owner associated with a funding recipient.

        To retrieve an owner, you need their ownerId. Our gateway returned the ownerId in the response of the [Create Processing Account](https://docs.payroc.com/api/schema/boarding/merchant-platforms/create-processing-account) method or the [Create Funding Recipient Owner](https://docs.payroc.com/api/schema/funding/funding-recipients/create-owner) method.

        **Note:** If you don't have the ownerId, use the [Retrieve Processing Account](https://docs.payroc.com/api/schema/boarding/processing-accounts/retrieve) method if you are searching for a processing account owner, or use the [List Funding Recipient Owners](https://docs.payroc.com/api/schema/funding/funding-recipients/list-owners) method if you are searching for a funding recipient owner.

        Our gateway returns the following information about an owner:
        - Name, date of birth, and address.
        - Contact details, including their email address.
        - Relationship to the business, including whether they are a control prong or authorized signatory, and their equity stake in the business.

        Parameters
        ----------
        owner_id : int
            Unique identifier that we assigned to the owner.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        Owner
            Successful request. Returns the requested owner.

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.boarding.owners.retrieve(
                owner_id=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.retrieve(owner_id, request_options=request_options)
        return _response.data

    async def update(
        self,
        owner_id_: int,
        *,
        first_name: str,
        last_name: str,
        date_of_birth: dt.date,
        address: Address,
        identifiers: typing.Sequence[Identifier],
        contact_methods: typing.Sequence[ContactMethod],
        relationship: OwnerRelationship,
        owner_id: typing.Optional[int] = OMIT,
        middle_name: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        > **Important:** You can't update the details of an owner of a processing account.

        Use this method to update the details of an owner associated with a funding recipient.

        To update an owner, you need their ownerId. Our gateway returned the ownerId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method and the [Create Funding Recipient Owner](https://docs.payroc.com/api/schema/funding/funding-recipients/create-owner) method.

        **Note:** If you don't have the ownerId, use the [List Funding Recipient Owners](https://docs.payroc.com/api/schema/funding/funding-recipients/list-owners) method, the [Retrieve Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/retrieve) method, or the [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient owner.

        You can update the following details about an owner:

        - Personal details, including their name, date of birth, and address.
        - Identification details, including their identification type and number.
        - Contact details, including their email address.
        - Relationship to the business, including whether they are a control prong.

        Parameters
        ----------
        owner_id_ : int
            Unique identifier that we assigned to the owner.

        first_name : str
            Owner's first name.

        last_name : str
            Owner's last name.

        date_of_birth : dt.date
            Owner's date of birth. The format of this value is **YYYY-MM-DD**.

        address : Address

        identifiers : typing.Sequence[Identifier]
            Array of IDs.

        contact_methods : typing.Sequence[ContactMethod]
            Array of contactMethod objects.
            **Note:** If you are adding information about an owner, you must provide at least an email address. If you are adding information about a contact, you must provide at least a contact number.

        relationship : OwnerRelationship
            Object that contains information about the owner's relationship to the business.

        owner_id : typing.Optional[int]
            Unique identifier that we assigned to the owner.

        middle_name : typing.Optional[str]
            Owner's middle name.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio
        import datetime

        from payroc import (
            Address,
            AsyncPayroc,
            ContactMethod_Email,
            Identifier,
            OwnerRelationship,
        )

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.boarding.owners.update(
                owner_id_=1,
                first_name="Jane",
                middle_name="Helen",
                last_name="Doe",
                date_of_birth=datetime.date.fromisoformat(
                    "1964-03-22",
                ),
                address=Address(
                    address_1="1 Example Ave.",
                    address_2="Example Address Line 2",
                    address_3="Example Address Line 3",
                    city="Chicago",
                    state="Illinois",
                    country="US",
                    postal_code="60056",
                ),
                identifiers=[
                    Identifier(
                        type="nationalId",
                        value="000-00-4320",
                    )
                ],
                contact_methods=[
                    ContactMethod_Email(
                        value="jane.doe@example.com",
                    )
                ],
                relationship=OwnerRelationship(
                    equity_percentage=48.5,
                    title="CFO",
                    is_control_prong=True,
                    is_authorized_signatory=False,
                ),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update(
            owner_id_,
            first_name=first_name,
            last_name=last_name,
            date_of_birth=date_of_birth,
            address=address,
            identifiers=identifiers,
            contact_methods=contact_methods,
            relationship=relationship,
            owner_id=owner_id,
            middle_name=middle_name,
            request_options=request_options,
        )
        return _response.data

    async def delete(self, owner_id: int, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        > **Important:** You can't delete an owner of a processing account.

        Use this method to delete an owner associated with a funding recipient. You can delete an owner only if the funding recipient has more than one owner.

        To delete an owner, you need their ownerId. Our gateway returned the ownerId in the response of the [Create Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/create) method and the [Create Funding Recipient Owner](https://docs.payroc.com/api/schema/funding/funding-recipients/create-owner) method.

        **Note:** If you don't have the ownerId, use the [List Funding Recipient Owners](https://docs.payroc.com/api/schema/funding/funding-recipients/list-owners) method, the [Retrieve Funding Recipient](https://docs.payroc.com/api/schema/funding/funding-recipients/retrieve) method, or the [List Funding Recipients](https://docs.payroc.com/api/schema/funding/funding-recipients/list) method to search for the funding recipient owner.

        Parameters
        ----------
        owner_id : int
            Unique identifier that we assigned to the owner.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from payroc import AsyncPayroc

        client = AsyncPayroc(
            client_id="YOUR_CLIENT_ID",
            client_secret="YOUR_CLIENT_SECRET",
        )


        async def main() -> None:
            await client.boarding.owners.delete(
                owner_id=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete(owner_id, request_options=request_options)
        return _response.data
